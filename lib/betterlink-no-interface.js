/*
 Core JS for Betterlink

 Copyright 2013, Ben Getson. All rights reserved.
*/
function m(a){throw a;}var n=!0,u=null,D=!1;function aa(a){return function(){return a}}var ba;
ba=window.betterlink||function(){function a(){if(!x){x=n;if(!w.initialized&&!w.initialized){var b,d;for(d in z)(b=z[d])instanceof v&&b.Z();l.be||y()}s(r)}}function c(b,c){var H=typeof b[c];return H==d||!!(H==e&&b[c])||"unknown"==H}function g(b,d){return!!(typeof b[d]==e&&b[d])}function h(d,e){return typeof d[e]!=b}function k(b){return function(d,H){for(var e=H.length;e--;)if(!b(d,H[e]))return D;return n}}function v(b,d){this.name=b;this.G=this.g=D;this.Z=d}function s(b){for(var d=0,e=b.length;d<e;++d)try{b[d](w)}catch(c){p("Betterlink listener threw an exception. Continuing. Detail: "+
(c.message||c.description||String(c)))}}function y(b){w.initialized||(w.initialized=n,b&&Object.hasOwnProperty.call(b,"enableHttpRequests")&&(w.config.dummyRequestOverride=b.enableHttpRequests),s(M))}function p(b){g(window,"console")&&c(window.console,"log")&&window.console.log(b)}function t(b){w.initialized=n;w.G=D;p("Betterlink is not supported on this page in your browser. Reason: "+b)}function C(b){p("Betterlink warning: "+b)}var w={bf:1380053673,initialized:D},l={be:n};w.config={};l.a={};var e=
"object",d="function",b="undefined";l.ra=c;l.rb=g;l.Ia=h;l.da=k(c);l.cd=k(g);l.Ra=k(h);var z={};l.yc=z;v.prototype={s:function(b){this.g=n;this.G=D;m(Error("Module '"+this.name+"' failed to load: "+b))},warn:function(b){w.warn("Module "+this.name+": "+b)},Da:function(b,d){w.warn("DEPRECATED: "+b+" in module "+this.name+"is deprecated. Please use "+d+" instead")},l:function(b){return Error("Error in "+this.name+" module: "+b)}};w.i=function(b,d){if(!z[b]){var e=new v(b,function(){if(!e.g){e.g=n;try{d(w,
l,e),e.G=n}catch(c){l.hd("Module '"+b+"' failed to load: "+(c.message||c.description||String(c)))}}});z[b]=e}};w.r=function(b){for(var d=0,e=b.length,c,f;d<e;++d)f=b[d],c=z[f],(!c||!(c instanceof v))&&m(Error("required module '"+f+"' not found")),c.Z(),c.G||m(Error("required module '"+f+"' not supported"))};var f;c(document,"addEventListener")?f=function(b,d,e){b.addEventListener(d,e,D)}:c(document,"attachEvent")?f=function(b,d,e){b.attachEvent("on"+d,e)}:t("Document does not have required addEventListener or attachEvent method");
l.addListener=f;var r=[];l.Ib=function(b){x?b(w):r.push(b)};var x=D;if(typeof window==b)t("No window found");else if(typeof document==b)t("No document found");else{c(document,"addEventListener")&&document.addEventListener("DOMContentLoaded",a,D);f(window,"load",a);w.init=y;var M=[];l.xa=function(b){w.initialized?b(w):M.push(b)};l.hd=p;l.s=t;l.warn=C;!w.initialized&&"complete"===document.readyState&&(w.ac=a);return w}}();window.betterlink=ba;ba.i("HTTP",function(a,c){function g(b,e,f){if(t)l.push(arguments);else if(d.td&&(e.test=1),f&&!p?(e.callback=f,b+=".js"):b+=".json",e._=(new Date).getTime().toString(),b+="?"+c.a.m.dd(e),p){var a=new XMLHttpRequest;a.open("GET",b,n);a.withCredentials=n;a.onreadystatechange=function(){if(4===a.readyState)if(c.a.m.wc(a.status))f&&f(D,a.responseText);else{var b="Bad HTTP status: "+a.status+" "+a.statusText;f&&f({status:n,error:b})}};a.send(u)}else{var g=window.document.createElement("script");g.type=
"text/javascript";g.async=n;g.defer=n;g.src=b;var h=window.document.getElementsByTagName("script")[0];h.parentNode.insertBefore(g,h)}}function h(b,a){if(c.a.O(b))return u;if(p)return function(d,e){b(d,e,a)};var f=""+Math.floor(1E8*Math.random()),g=d.$d+'["'+f+'"]';e[f]=k(f,b,a);return g}function k(b,d,a){return function(g,h,k){delete e[b];if(c.a.m.wc(h))d(D,g,a);else{var p;g=c.a.m.wb(response);Object.hasOwnProperty.call(g,"error")?p=g.error:k&&(p=k);p?d({status:n,error:p}):d(n)}}}function v(){c.a.forEach(l,
function(b){g.call(b)});delete l}a.r(["Util","Util.HTTP","Util.DOM"]);var s=window.navigator.userAgent,y=window.document.referrer,p=window.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest,t=!p&&-1==s.indexOf("MSIE"),C=/(google web preview|baiduspider|yandexbot)/i.test(s),w=c.a.B.Id(),l=[],e=[],d={ya:("https:"==window.document.location.protocol?"https://":"http://")+"api.betterlink.co",xe:"/selection_submissions/submit",Je:"/selection_views/submit",te:"/selections/%%route:id%%",He:"/selection_submissions/%%route:id%%/update_submission_url",
$d:"betterlink._jcb"};c.Ib(function(){t=D;v()});c.xa(function(){d.td=!a.config.dummyRequestOverride});c.ye=function(b,e){if(!c.a.O(typeof b))if(C)c.a.O(typeof e)||e(0);else{var a=c.a.extend({},{referrer:encodeURIComponent(y),href:encodeURIComponent(window.document.location.href),domain:encodeURIComponent(window.document.location.hostname)},b);w&&(a.script_source=encodeURIComponent(w));var r=c.a.m.xc(a),r=c.a.m.Eb(r),r=c.a.m.Kb(r);g(d.ya+d.xe,{data:r},h(e,a))}};c.getSelection=function(b,e){if(!c.a.O(typeof b))if(C)c.a.O(typeof e)||
e(0);else{var a={},r=c.a.m.lc(d.te,{id:b});g(d.ya+r,a,h(e,a));return a}};c.ze=function(b,e){if(!c.a.O(typeof b))if(C)c.a.O(typeof e)||e(0);else{var a=c.a.extend({},{referrer:encodeURIComponent(y)},{selection_id:b});w&&(a.script_source=encodeURIComponent(w));var r=c.a.m.xc(a),r=c.a.m.Eb(r),r=c.a.m.Kb(r);g(d.ya+d.Je,{data:r},h(e,a))}};c.Ge=function(b,e){if(!c.a.O(typeof b)){e=c.a.m.Eb(encodeURIComponent(e));var a={url:e},r=c.a.m.lc(d.He,{id:b});g(d.ya+r,a,h(void 0,a))}};c.eg=g;a._jcb=e});ba.i("Range Manager",function(a,c){function g(){c.d.la||(ma?(c.d.la=ma,ma=u):m(Error("Range Manager not found")))}function h(){return!c.d.g?u:c.d.la.getSelection()}c.d={};c.Ib(g);c.xa(function(){if(!c.d.g){c.d.g=n;c.d.la||g();c.d.la.Z();var a=c.d.la;c.d.cb=a.cb;c.d.Na=a.Na;c.d.hb=a.hb;c.d.createRange=a.createRange;c.bb=a.bb;c.ab=a.ab}});c.d.qf=function(){var c=h();return c?c.isCollapsed:n};c.d.me=function(){var c=h();c&&c.removeAllRanges()};c.d.Jd=function(){var c=h();return c?c.X():[]}});ba.i("Util",function(a,c){c.a={O:function(c){return void 0===c},vc:function(c){return"[object String]"==Object.prototype.toString.call(c)},isArray:Array.isArray||function(c){return"[object Array]"===Object.prototype.toString.call(c)},Yd:function(a){return a===Object(a)&&!c.a.isArray(a)},forEach:function(c,a,k){if(c!==u)if(Array.prototype.forEach&&c.forEach===Array.prototype.forEach)c.forEach(a,k);else if(c.length===+c.length)for(var v=0,s=c.length;v<s;v++)a.call(k,c[v],v,c);else for(v in c)Object.prototype.hasOwnProperty.call(c,
v)&&a.call(k,c[v],v,c)},extend:function(a){c.a.forEach(Array.prototype.slice.call(arguments,1),function(h){for(var k in h)c.a.O(h[k])||(a[k]=h[k])});return a},truncate:function(a,h){var k;c.a.vc(a)?k=a.slice(0,h):c.a.isArray(a)?(k=[],c.a.forEach(a,function(a){k.push(c.a.truncate(a,h))})):c.a.Yd(a)?(k={},c.a.forEach(a,function(a,g){k[g]=c.a.truncate(a,h)})):k=a;return k},Vf:function(a){var h={};c.a.forEach(a,function(a,g){c.a.vc(a)&&0<a.length&&(h[g]=a)});return h}}});ba.i("Util.DOM",function(a,c){var g="";c.a.B={af:function(c,a){var g=c.childNodes.length;if(0===g)c.appendChild(a);else if(1===g)c.replaceChild(a,c.childNodes[0]);else{for(;c.hasChildNodes();)c.removeChild(c.lastChild);c.appendChild(a)}},hf:function(c,a,g){var s=window.document.createElement("a");s.appendChild(document.createTextNode(c));s.href=a;g&&(s.target=g);return s},Ze:function(a,g,v){a="."+a+" "+g;v&&(a=v+a);return c.a.B.Xb(a)},$e:function(a,g){return c.a.B.Xb("#"+a+" "+g)},Xb:function(a){var c=
document.head||document.getElementsByTagName("head")[0],g=document.createElement("style");g.type="text/css";g.styleSheet?g.styleSheet.cssText=a:g.appendChild(document.createTextNode(a));c.appendChild(g);return g},Id:function(){if(!g)for(var a=document.getElementsByTagName("script"),c=0,v=a.length;c<v;c++)-1!==a[c].src.indexOf("betterlink-no-interface.js")&&(g=a[c].getAttribute("data-script_source"));return g}}});ba.i("Util.HTTP",function(a,c){a.r(["Util"]);c.a.m={wc:function(a){return 201===a||200===a||204===a},Gd:function(a){var c={};a=decodeURIComponent((a?a:window.location.search).substr(1)).split("&");for(var k,v=a.length,s=0;s<v;s++)k=a[s].split("="),c[k[0]]=k[1];return c},dd:function(a){var h,k,v,s=[];"undefined"===typeof h&&(h="&");c.a.forEach(a,function(a,c){k=encodeURIComponent(a.toString());v=encodeURIComponent(c);s[s.length]=v+"="+k});return s.join(h)},lc:function(a,c){return a.replace(/%%route:([^%]+)%%/g,
function(a,g){return c[g]})},wb:function(a){return"object"===typeof a?a:JSON.parse(a)},xc:function(a){function c(a){var g=/[\\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,h={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};g.lastIndex=0;return g.test(a)?'"'+a.replace(g,function(a){var c=h[a];return"string"===typeof c?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}
function k(a,g){var y="",p=0,t=p="",t=0,C=y,w=[],l=g[a];l&&("object"===typeof l&&"function"===typeof l.toJSON)&&(l=l.toJSON(a));switch(typeof l){case "string":return c(l);case "number":return isFinite(l)?String(l):"null";case "boolean":case "null":return String(l);case "object":if(!l)return"null";y+="    ";w=[];if("[object Array]"===Object.prototype.toString.apply(l)){t=l.length;for(p=0;p<t;p+=1)w[p]=k(p,l)||"null";return t=0===w.length?"[]":y?"[\n"+y+w.join(",\n"+y)+"\n"+C+"]":"["+w.join(",")+"]"}for(p in l)Object.hasOwnProperty.call(l,
p)&&(t=k(p,l))&&w.push(c(p)+(y?": ":":")+t);return t=0===w.length?"{}":y?"{\n"+y+w.join(",\n"+y)+"\n"+C+"}":"{"+w.join(",")+"}"}}return k("",{"":a})},Kb:function(a){var c,k,v,s,y=0,p=0,t="",t=[];if(!a)return a;do c=a.charCodeAt(y++),k=a.charCodeAt(y++),v=a.charCodeAt(y++),s=c<<16|k<<8|v,c=s>>18&63,k=s>>12&63,v=s>>6&63,s&=63,t[p++]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(c)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(k)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(v)+
"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(s);while(y<a.length);t=t.join("");a=a.length%3;return(a?t.slice(0,a-3):t)+"===".slice(a||3)},Eb:function(a){return unescape(encodeURIComponent(a))},qg:function(a){return decodeURIComponent(escape(a))}}});ba.i("Event Messaging",function(a,c){function g(a){var g=Array.prototype.slice.call(arguments,1);c.a.forEach(a,function(a){a.na.apply(a.pa,g)})}a.r(["Util"]);c.f={};var h=[],k=[],v=[],s=[],y=[];c.f.fb=function(a){g(h,a)};c.f.le=function(a){h.push({pa:this,na:a})};c.f.yd=function(){g(k)};c.f.je=function(a){k.push({pa:this,na:a})};c.f.zd=function(){g(v)};c.f.ke=function(a){v.push({pa:this,na:a})};c.f.wd=function(){g(s)};c.f.he=function(a){s.push({pa:this,na:a})};c.f.xd=function(a){g(y,a)};c.f.ie=function(a){y.push({pa:this,
na:a})}});ba.i("Sharing",function(a,c){function g(){if(a.initialized){var g="",t=v(k());c.ye(t,function(a,k){if(a)g="There was a problem building your share link",c.f.fb({success:D,message:g});else{var l=c.a.m.wb(k);if(Object.hasOwnProperty.call(l,y)){var e=l[s],l=h(l[y]);c.f.fb({success:n,message:l});c.Ge(e,l)}else g="There was a problem building your share link",c.f.fb({success:D,message:g})}})}else c.warn("not yet initialized")}function h(c){function g(a,b){return b+c}var k=a.config.highlightQueryParam,
h=k+"="+c,l=a.config.permalink?a.config.permalink:window.location.toString(),e=RegExp("([?&]"+k+"=)[^&#!]+"),d=/#[^&#]+$/,b,k=l;a.config.preserveHash&&(b=d.exec(l));k=k.replace(d,"");e.test(k)?k=k.replace(e,g):(l=k.indexOf("?"),k=-1!==l?k+(k.substr(l).indexOf("&"===-1)?"&"+h:"?"+h):k+("?"+h));b&&(k+=b);return k}function k(){var a=c.d.Jd()[0],g=a.text(),a=c.d.Na(a),k=/{.*?}/.exec(a)[0];return{serialization:a.substr(0,a.indexOf(k)),checksum:k.replace(/[{}]/g,""),text_content:g}}function v(c){a.config.permalink&&
(c.permalink=a.config.permalink);return c}a.r(["Util.HTTP","HTTP","Range Manager","Event Messaging","Highlighting"]);var s="id",y="selection_id";c.f.je(g);a.shareSelectedText=g});ba.i("Highlighting",function(a,c){function g(a){c.p.g?(c.p.Pc={g:n,options:a},c.nb.Xc(c.ab(a.cssClass,{qa:a.elementTagName,jc:n,ba:a.tagsToPreserve,T:a.elementProperties})),h()):s()}function h(a){c.p.g?v(function(a){if(a){var g=a.zb,e=a.Db,d=n,b;if(b=a.Va!==c.d.hb(document.documentElement)){var z;try{z=c.d.qd(g)}catch(f){z=D}b=!(z&&z.text()===e)}if(b&&(d=D,b=c.d.createRange(),b.selectNodeContents(document.body),e=b.findText(e)?b:D))g=c.d.Na(e),d=n;if(d){try{var r=c.d.cb(g);c.p.Pc&&c.nb.Md(c.p.Pc.options.cssClass,
r);c.f.zd()}catch(x){}c.d.me();k(a.se)}}},a):s()}function k(a){c.ze(a,function(){})}function v(g,k){var h=k?k:c.a.m.Gd()[a.config.highlightQueryParam];h&&c.getSelection(h,function(a,d){if(a)g(D);else{var b;b=c.a.m.wb(d);(b=Object.hasOwnProperty.call(b,y)&&Object.hasOwnProperty.call(b,p)&&Object.hasOwnProperty.call(b,t)?{zb:b[y],Va:b[p],Db:b[t]}:D)?g({se:h,zb:b.zb,Va:b.Va,Db:b.Db}):g(D)}})}function s(){c.warn("Highlighting not yet initialized")}a.r(["HTTP","Util.HTTP","Event Messaging","Range Manager"]);
a.config.highlightQueryParam="hl";var y="serialization",p="checksum",t="text_content";c.p={};c.xa(function(){if(!c.p.g){c.p.g=n;c.f.ie(g);var a;a=c.bb();c.nb=a;c.f.wd()}});a.highlightRequestedSelections=h;a.removeHighlightFromSelectedText=function(){c.p.g?c.nb.Fe():s()}});ba.i("Exports for Public Interface",function(a,c){a.r(["Event Messaging"]);a.registerObserverForSubmissionDisplay=c.f.le;a.fireNewSubmission=c.f.yd;a.registerObserverForSelectionHighlighted=c.f.ke;a.registerObserverForHighlighterInitialized=c.f.he;a.fireHighlighterStylesInitialized=c.f.xd});var ma;
ma=ma||function(){function a(){T||(T=n,E.g||t())}function c(a,b){var c=typeof a[b];return c==l||!!(c==w&&a[b])||"unknown"==c}function g(a,b){return!!(typeof a[b]==w&&a[b])}function h(a,b){return typeof a[b]!=e}function k(a){return function(b,c){for(var d=c.length;d--;)if(!a(b,c[d]))return D;return n}}function v(a){return a&&r(a,f)&&x(a,z)}function s(a){return g(a,"body")?a.body:a.getElementsByTagName("body")[0]}function y(a){g(window,"console")&&c(window.console,"log")&&window.console.log(a)}function p(a){E.g=
n;E.G=D;a="RangeManager is not supported on this page in your browser. Reason: "+a;E.ea.Yc?window.alert(a):y(a)}function t(){if(!E.g){var a,e=D,G=D;c(document,"createRange")&&(a=document.createRange(),r(a,b)&&x(a,d)&&(e=n),a.detach());a=s(document);if(!a||"body"!=a.nodeName.toLowerCase())p("No body element found");else if(a&&c(a,"createTextRange")&&(a=a.createTextRange(),v(a)&&(G=n)),!e&&!G)p("Neither Range nor TextRange are available");else{E.g=n;E.M={ha:e,Nd:G};var f,z;for(z in M)(f=M[z])instanceof C&&
f.Z();G=0;for(f=H.length;G<f;++G)try{H[G](E)}catch(g){e="RangeManager init listener threw an exception. Continuing. Detail: "+(g.message||g.description||String(g)),y(e)}}}}function C(a,b){this.name=a;this.G=this.g=D;this.Z=b}var w="object",l="function",e="undefined",d="startContainer startOffset endContainer endOffset collapsed commonAncestorContainer".split(" "),b="setStart setStartBefore setStartAfter setEnd setEndBefore setEndAfter collapse selectNode selectNodeContents compareBoundaryPoints deleteContents extractContents cloneContents insertNode surroundContents cloneRange toString detach".split(" "),
z="boundingHeight boundingLeft boundingTop boundingWidth htmlText text".split(" "),f="collapse compareEndPoints duplicate moveToElementText parentElement select setEndPoint getBoundingClientRect".split(" "),r=k(c),x=k(h),M={},E={version:"1.3alpha.772",g:D,G:n,a:{ra:c,rb:g,Ia:h,da:r,cd:k(g),Ra:x,Mf:v,Y:s},M:{},yc:M,ea:{Yc:n,Zc:D,Ec:D}};E.s=p;E.warn=function(a){a="RangeManager warning: "+a;E.ea.Zc?window.alert(a):y(a)};({}).hasOwnProperty?E.a.extend=function(a,b,c){var d,e,H;for(H in b)b.hasOwnProperty(H)&&
(d=a[H],e=b[H],c&&(d!==u&&"object"==typeof d&&e!==u&&"object"==typeof e)&&E.a.extend(d,e,n),a[H]=e);return a}:p("hasOwnProperty not supported");(function(){var a=document.createElement("div");a.appendChild(document.createElement("span"));var b=[].slice,c;try{1==b.call(a.childNodes,0)[0].nodeType&&(c=function(a){return b.call(a,0)})}catch(d){}c||(c=function(a){for(var b=[],c=0,d=a.length;c<d;++c)b[c]=a[c];return b});E.a.Ae=c})();var F;c(document,"addEventListener")?F=function(a,b,c){a.addEventListener(b,
c,D)}:c(document,"attachEvent")?F=function(a,b,c){a.attachEvent("on"+b,c)}:p("Document does not have required addEventListener or attachEvent method");E.a.addListener=F;var H=[];E.Z=t;E.xa=function(a){E.g?a(E):H.push(a)};var G=[];E.Hb=function(a){G.push(a)};E.nf=function(a){a=a||window;t();for(var b=0,c=G.length;b<c;++b)G[b](a)};C.prototype={s:function(a){this.g=n;this.G=D;m(Error("Module '"+this.name+"' failed to load: "+a))},warn:function(a){E.warn("Module "+this.name+": "+a)},Da:function(a,b){E.warn("DEPRECATED: "+
a+" in module "+this.name+"is deprecated. Please use "+b+" instead")},l:function(a){return Error("Error in RangeManager "+this.name+" module: "+a)}};E.i=function(a,b){var c=new C(a,function(){if(!c.g){c.g=n;try{b(E,c),c.G=n}catch(d){y("Module '"+a+"' failed to load: "+(d.message||d.description||String(d)))}}});M[a]=c};E.r=function(a){for(var b=0,c=a.length,d,e;b<c;++b)e=a[b],d=M[e],(!d||!(d instanceof C))&&m(Error("required module '"+e+"' not found")),d.Z(),d.G||m(Error("required module '"+e+"' not supported"))};
var T=D;if(typeof window==e)p("No window found");else if(typeof document==e)p("No document found");else return c(document,"addEventListener")&&document.addEventListener("DOMContentLoaded",a,D),F(window,"load",a),E}();
ma.i("DomUtil",function(a,c){function g(a,b){for(var c=a.length;c--;)if(a[c]===b)return n;return D}function h(a){for(var b=0;a=a.previousSibling;)++b;return b}function k(a,b){var c=[],d;for(d=a;d;d=d.parentNode)c.push(d);for(d=b;d;d=d.parentNode)if(g(c,d))return d;return u}function v(a,b,c){for(b=c?b:b.parentNode;b;){if(b===a)return n;b=b.parentNode}return D}function s(a,b,c){for(c=c?a:a.parentNode;c;){a=c.parentNode;if(a===b)return c;c=a}return u}function y(a){a=a.nodeType;return 3==a||4==a||8==
a}function p(a,b){var c=b.nextSibling,d=b.parentNode;c?d.insertBefore(a,c):d.appendChild(a);return a}function t(a){if(9==a.nodeType)return a;if(typeof a.ownerDocument!=r)return a.ownerDocument;if(typeof a.document!=r)return a.document;if(a.parentNode)return t(a.parentNode);m(c.l("getDocument: no document found for node"))}function C(a){a=t(a);if(typeof a.defaultView!=r)return a.defaultView;if(typeof a.parentWindow!=r)return a.parentWindow;m(c.l("Cannot get a window object for node"))}function w(a){if(typeof a.contentDocument!=
r)return a.contentDocument;if(typeof a.contentWindow!=r)return a.contentWindow.document;m(c.l("getIframeDocument: No Document object found for iframe element"))}function l(a){return a&&x.ra(a,"setTimeout")&&x.rb(a,"document")}function e(a){try{return a.parentNode,D}catch(b){return n}}function d(a){return!a?"[No node]":E&&e(a)?"[Broken node]":y(a)?'"'+a.data+'"':1==a.nodeType?"<"+a.nodeName+(a.id?' id="'+a.id+'"':"")+">["+a.childNodes.length+"]["+a.innerHTML.slice(0,20)+"]":a.nodeName}function b(a){this.A=
this.root=a}function z(a,b){this.b=a;this.offset=b}function f(a){this.code=this[a];this.Ya=a;this.message="DOMException: "+this.Ya}var r="undefined",x=a.a;x.da(document,["createDocumentFragment","createElement","createTextNode"])||c.s("document missing a Node creation method");x.ra(document,"getElementsByTagName")||c.s("document missing getElementsByTagName method");var M=document.createElement("div");x.da(M,["insertBefore","appendChild","cloneNode"])||c.s("Incomplete Element implementation");x.Ia(M,
"innerHTML")||c.s("Element is missing innerHTML property");x.da(document.createTextNode("test"),["splitText","deleteData","insertData","appendData","cloneNode"])||c.s("Incomplete Text Node implementation");var E=D;(function(){var b=document.createElement("b");b.innerHTML="1";var c=b.firstChild;b.innerHTML="<br>";E=e(c);a.M.ld=E})();var F;typeof window.getComputedStyle!=r?F=function(a,b){return C(a).getComputedStyle(a,u)[b]}:typeof document.documentElement.currentStyle!=r?F=function(a,b){return a.currentStyle[b]}:
c.s("No means of obtaining computed style properties found");b.prototype={u:u,next:function(){var a=this.u=this.A,b;if(this.u){b=a.firstChild;if(!b)for(b=u;a!==this.root&&!(b=a.nextSibling);)a=a.parentNode;this.A=b}return this.u},detach:function(){this.u=this.A=this.root=u}};z.prototype={W:function(a){return!!a&&this.b===a.b&&this.offset==a.offset},w:function(){return"[DomPosition("+d(this.b)+":"+this.offset+")]"},toString:function(){return this.w()}};f.prototype={};f.prototype.toString=function(){return this.message};
a.B={Sa:g,qc:function(a){var b;return typeof a.namespaceURI==r||(b=a.namespaceURI)===u||"http://www.w3.org/1999/xhtml"==b},parentElement:function(a){a=a.parentNode;return 1==a.nodeType?a:u},k:h,Fa:function(a){switch(a.nodeType){case 7:case 10:return 0;case 3:case 8:return a.length;default:return a.childNodes.length}},gb:k,nc:v,tb:function(a,b){return v(a,b,n)},Ad:s,N:y,Lf:function(a){if(!a)return D;a=a.nodeType;return 3==a||8==a},Pd:p,we:function(a,b,c){var d=a.cloneNode(D);d.deleteData(0,b);a.deleteData(b,
a.length-b);p(d,a);if(c)for(var e=0,f;f=c[e++];)f.b==a&&f.offset>b?(f.b=d,f.offset-=b):f.b==a.parentNode&&f.offset>h(a)&&++f.offset;return d},n:t,mb:C,Cd:function(a){if(typeof a.contentWindow!=r)return a.contentWindow;if(typeof a.contentDocument!=r)return a.contentDocument.defaultView;m(c.l("getIframeWindow: No Window object found for iframe element"))},vf:w,Y:x.Y,Zd:l,ec:function(a,b,c){var d;a?x.Ia(a,"nodeType")?d=1==a.nodeType&&"iframe"==a.tagName.toLowerCase()?w(a):t(a):l(a)&&(d=a.document):d=
document;d||m(b.l(c+"(): Parameter must be a Window object or DOM node"));return d},Hd:function(a){for(var b;b=a.parentNode;)a=b;return a},Za:function(a,b,d,e){var f;if(a==d)return b===e?0:b<e?-1:1;if(f=s(d,a,n))return b<=h(f)?-1:1;if(f=s(a,d,n))return h(f)<e?-1:1;b=k(a,d);a=a===b?b:s(a,b,n);d=d===b?b:s(d,b,n);a===d&&m(c.l("comparePoints got to case 4 and childA and childB are the same!"));for(b=b.firstChild;b;){if(b===a)return-1;if(b===d)return 1;b=b.nextSibling}},Sd:e,ia:d,dc:F,Zb:function(a){for(var b=
t(a).createDocumentFragment(),c;c=a.firstChild;)b.appendChild(c);return b},nd:function(a){return new b(a)},ka:z};a.Fb=f});
ma.i("DomRange",function(a){function c(a,b){return 3!=a.nodeType&&(Z(a,b.startContainer)||Z(a,b.endContainer))}function g(a){return a.document||da(a.startContainer)}function h(a){return new ea(a.parentNode,B(a))}function k(a){return new ea(a.parentNode,B(a)+1)}function v(a,b,c){var d=11==a.nodeType?a.firstChild:a;N(b)?c==b.length?I.Pd(a,b):b.parentNode.insertBefore(a,0==c?b:ia(b,c)):c>=b.childNodes.length?b.appendChild(a):b.insertBefore(a,b.childNodes[c]);return d}function s(a,b,c){G(a);G(b);g(b)!=
g(a)&&m(new P("WRONG_DOCUMENT_ERR"));var d=Q(a.startContainer,a.startOffset,b.endContainer,b.endOffset);a=Q(a.endContainer,a.endOffset,b.startContainer,b.startOffset);return c?0>=d&&0<=a:0>d&&0<a}function y(a){for(var b,c,d=g(a.aa).createDocumentFragment();c=a.next();)b=a.Ja(),c=c.cloneNode(!b),b&&(b=a.Ga(),c.appendChild(y(b)),b.detach(n)),10==c.nodeType&&m(new P("HIERARCHY_REQUEST_ERR")),d.appendChild(c);return d}function p(a,b,c){var d,q;for(c=c||{stop:D};d=a.next();)if(a.Ja())if(b(d)===D){c.stop=
n;break}else{if(d=a.Ga(),p(d,b,c),d.detach(n),c.stop)break}else for(d=I.nd(d);q=d.next();)if(b(q)===D){c.stop=n;return}}function t(a){for(var b;a.next();)a.Ja()?(b=a.Ga(),t(b),b.detach(n)):a.remove()}function C(a){for(var b,c=g(a.aa).createDocumentFragment(),d;b=a.next();)a.Ja()?(b=b.cloneNode(D),d=a.Ga(),b.appendChild(C(d)),d.detach(n)):a.remove(),10==b.nodeType&&m(new P("HIERARCHY_REQUEST_ERR")),c.appendChild(b);return c}function w(a,b,c){var d=!(!b||!b.length),q,A=!!c;d&&(q=RegExp("^("+b.join("|")+
")$"));var J=[];p(new e(a,D),function(a){(!d||q.test(a.nodeType))&&(!A||c(a))&&J.push(a)});return J}function l(a){return"["+("undefined"==typeof a.getName?"Range":a.getName())+"("+I.ia(a.startContainer)+":"+a.startOffset+", "+I.ia(a.endContainer)+":"+a.endOffset+")]"}function e(a,b){this.aa=a;this.Rb=b;if(!a.collapsed){this.t=a.startContainer;this.ta=a.startOffset;this.C=a.endContainer;this.fa=a.endOffset;var c=a.commonAncestorContainer;this.t===this.C&&N(this.t)?(this.uc=n,this.P=this.Q=this.A=this.t):
(this.P=this.A=this.t===c&&!N(this.t)?this.t.childNodes[this.ta]:ka(this.t,c,n),this.Q=this.C===c&&!N(this.C)?this.C.childNodes[this.fa-1]:ka(this.C,c,n))}}function d(a){this.code=this[a];this.Ya=a;this.message="RangeException: "+this.Ya}function b(a){return function(b,c){for(var d,q=c?b:b.parentNode;q;){d=q.nodeType;if($(a,d))return q;q=q.parentNode}return u}}function z(a,b){q(a,b)&&m(new d("INVALID_NODE_TYPE_ERR"))}function f(a){a.startContainer||m(new P("INVALID_STATE_ERR"))}function r(a,b){$(b,
a.nodeType)||m(new d("INVALID_NODE_TYPE_ERR"))}function x(a,b){(0>b||b>(N(a)?a.length:a.childNodes.length))&&m(new P("INDEX_SIZE_ERR"))}function M(a,b){na(a,n)!==na(b,n)&&m(new P("WRONG_DOCUMENT_ERR"))}function E(a){oa(a,n)&&m(new P("NO_MODIFICATION_ALLOWED_ERR"))}function F(a,b){a||m(new P(b))}function H(a){return la&&I.Sd(a)||!$(fa,a.nodeType)&&!na(a,n)}function G(a){f(a);(!a.startContainer||!a.endContainer||H(a.startContainer)||H(a.endContainer)||!(a.startOffset<=(N(a.startContainer)?a.startContainer.length:
a.startContainer.childNodes.length))||!(a.endOffset<=(N(a.endContainer)?a.endContainer.length:a.endContainer.childNodes.length)))&&m(Error("Range error: Range is no longer valid after DOM mutation ("+a.w()+")"))}function T(a,b){G(a);var c=a.startContainer,d=a.startOffset,q=a.endContainer,A=a.endOffset,e=c===q;N(q)&&(0<A&&A<q.length)&&ia(q,A,b);N(c)&&(0<d&&d<c.length)&&(c=ia(c,d,b),e?(A-=d,q=c):q==c.parentNode&&A>=B(c)&&A++,d=0);a.o(c,d,q,A)}function R(){}function V(a){a.START_TO_START=pa;a.START_TO_END=
sa;a.END_TO_END=xa;a.END_TO_START=ta;a.Re=ua;a.Qe=va;a.Se=wa;a.Te=qa}function K(a){V(a);V(a.prototype)}function Y(a,b){return function(){G(this);var c=this.startContainer,d=this.startOffset,q=this.commonAncestorContainer,A=new e(this,n);c!==q&&(c=ka(c,q,n),d=k(c),c=d.b,d=d.offset);p(A,E);A.reset();q=a(A);A.detach();b(this,c,d,c,d);return q}}function S(a,b,d){function q(a,b){return function(c){f(this);r(c,ga);r(X(c),fa);c=(a?h:k)(c);(b?A:J)(this,c.b,c.offset)}}function A(a,c,d){var q=a.endContainer,
e=a.endOffset;if(c!==a.startContainer||d!==a.startOffset){if(X(c)!=X(q)||1==Q(c,d,q,e))q=c,e=d;b(a,c,d,q,e)}}function J(a,c,d){var q=a.startContainer,A=a.startOffset;if(c!==a.endContainer||d!==a.endOffset){if(X(c)!=X(q)||-1==Q(c,d,q,A))q=c,A=d;b(a,q,A,c,d)}}a.prototype=new R;L.extend(a.prototype,{setStart:function(a,b){f(this);z(a,n);x(a,b);A(this,a,b)},setEnd:function(a,b){f(this);z(a,n);x(a,b);J(this,a,b)},o:function(){f(this);var a=arguments,c=a[0],d=a[1],q=c,A=d;switch(a.length){case 3:A=a[2];
break;case 4:q=a[2],A=a[3]}b(this,c,d,q,A)},ue:function(a,b,c){this["set"+(c?"Start":"End")](a,b)},setStartBefore:q(n,n),setStartAfter:q(D,n),setEndBefore:q(n,D),setEndAfter:q(D,D),collapse:function(a){G(this);a?b(this,this.startContainer,this.startOffset,this.startContainer,this.startOffset):b(this,this.endContainer,this.endOffset,this.endContainer,this.endOffset)},selectNodeContents:function(a){f(this);z(a,n);b(this,a,0,a,ca(a))},selectNode:function(a){f(this);z(a,D);r(a,ga);var c=h(a);a=k(a);b(this,
c.b,c.offset,a.b,a.offset)},extractContents:Y(C,b),deleteContents:Y(t,b),Mb:function(){G(this);E(this.startContainer);E(this.endContainer);var a=new e(this,n),b=a.P&&c(a.P,this)||a.Q&&c(a.Q,this);a.detach();return!b},detach:function(){d(this)},gg:function(){T(this)},Oc:function(a){T(this,a)},Qf:function(){function a(b){var c=b.previousSibling;if(c&&c.nodeType==b.nodeType){d=b;var J=b.length;q=c.length;b.insertData(0,c.data);c.parentNode.removeChild(c);d==A?(e+=q,A=d):A==b.parentNode&&(c=B(b),e==c?
(A=b,e=J):e>c&&e--)}}function c(a){var b=a.nextSibling;b&&b.nodeType==a.nodeType&&(A=a,e=a.length,a.appendData(b.data),b.parentNode.removeChild(b))}G(this);var d=this.startContainer,q=this.startOffset,A=this.endContainer,e=this.endOffset,J=n;N(A)?A.length==e&&c(A):(0<e&&(J=A.childNodes[e-1])&&N(J)&&c(J),J=!this.collapsed);J?N(d)?0==q&&a(d):q<d.childNodes.length&&(J=d.childNodes[q])&&N(J)&&a(J):(d=A,q=e);b(this,d,q,A,e)},Sb:function(a,b){f(this);z(a,n);x(a,b);this.o(a,b)}});K(a)}function O(a){a.collapsed=
a.startContainer===a.endContainer&&a.startOffset===a.endOffset;a.commonAncestorContainer=a.collapsed?a.startContainer:I.gb(a.startContainer,a.endContainer)}function W(a,b,c,d,q){a.startContainer=b;a.startOffset=c;a.endContainer=d;a.endOffset=q;a.document=I.n(b);O(a)}function U(a){this.startContainer=a;this.startOffset=0;this.endContainer=a;this.endOffset=0;this.document=a;O(this)}a.r(["DomUtil"]);var I=a.B,L=a.a,ea=I.ka,P=a.Fb,N=I.N,B=I.k,Z=I.tb,da=I.n,Q=I.Za,ia=I.we,ka=I.Ad,ca=I.Fa,$=I.Sa,X=I.Hd,
la=a.M.ld;e.prototype={u:u,A:u,P:u,Q:u,uc:D,reset:function(){this.u=u;this.A=this.P},next:function(){var a=this.u=this.A;a&&(this.A=a!==this.Q?a.nextSibling:u,N(a)&&this.Rb&&(a===this.C&&(a=a.cloneNode(n)).deleteData(this.fa,a.length-this.fa),this.u===this.t&&(a=a.cloneNode(n)).deleteData(0,this.ta)));return a},remove:function(){var a=this.u,b,c;N(a)&&(a===this.t||a===this.C)?(b=a===this.t?this.ta:0,c=a===this.C?this.fa:a.length,b!=c&&a.deleteData(b,c-b)):a.parentNode&&a.parentNode.removeChild(a)},
Ja:function(){return c(this.u,this.aa)},Ga:function(){var a;if(this.uc)a=this.aa.cloneRange(),a.collapse(D);else{a=new U(g(this.aa));var b=this.u,c=b,d=0,q=b,A=ca(b);Z(b,this.t)&&(c=this.t,d=this.ta);Z(b,this.C)&&(q=this.C,A=this.fa);W(a,c,d,q,A)}return new e(a,this.Rb)},detach:function(a){a&&this.aa.detach();this.aa=this.u=this.A=this.P=this.Q=this.t=this.ta=this.C=this.fa=u}};d.prototype={};d.prototype.toString=function(){return this.message};var ga=[1,3,4,5,7,8,10],fa=[2,9,11],A=[1,3,4,5,7,8,10,
11],ha=[1,3,4,5,7,8],na=b([9,11]),oa=b([5,6,10,12]),q=b([6,10,12]),J=document.createElement("style"),ja=D;try{J.innerHTML="<b>x</b>",ja=3==J.firstChild.nodeType}catch(ya){}a.M.zf=ja;var ra="startContainer startOffset endContainer endOffset collapsed commonAncestorContainer".split(" "),pa=0,sa=1,xa=2,ta=3,ua=0,va=1,wa=2,qa=3;R.prototype={compareBoundaryPoints:function(a,b){G(this);M(this.startContainer,b.startContainer);var c=a==ta||a==pa?"start":"end",d=a==sa||a==pa?"start":"end";return Q(this[c+
"Container"],this[c+"Offset"],b[d+"Container"],b[d+"Offset"])},insertNode:function(a){G(this);r(a,A);E(this.startContainer);Z(a,this.startContainer)&&m(new P("HIERARCHY_REQUEST_ERR"));a=v(a,this.startContainer,this.startOffset);this.setStartBefore(a)},cloneContents:function(){G(this);var a,b;if(this.collapsed)return g(this).createDocumentFragment();if(this.startContainer===this.endContainer&&N(this.startContainer))return a=this.startContainer.cloneNode(n),a.data=a.data.slice(this.startOffset,this.endOffset),
b=g(this).createDocumentFragment(),b.appendChild(a),b;b=new e(this,n);a=y(b);b.detach();return a},Mb:function(){G(this);E(this.startContainer);E(this.endContainer);var a=new e(this,n),b=a.P&&c(a.P,this)||a.Q&&c(a.Q,this);a.detach();return!b},surroundContents:function(a){r(a,ha);this.Mb()||m(new d("BAD_BOUNDARYPOINTS_ERR"));var b=this.extractContents();if(a.hasChildNodes())for(;a.lastChild;)a.removeChild(a.lastChild);v(a,this.startContainer,this.startOffset);a.appendChild(b);this.selectNode(a)},cloneRange:function(){G(this);
for(var a=new U(g(this)),b=ra.length,c;b--;)c=ra[b],a[c]=this[c];return a},toString:function(){G(this);var a=this.startContainer;if(a===this.endContainer&&N(a))return 3==a.nodeType||4==a.nodeType?a.data.slice(this.startOffset,this.endOffset):"";var b=[],a=new e(this,n);p(a,function(a){(3==a.nodeType||4==a.nodeType)&&b.push(a.data)});a.detach();return b.join("")},compareNode:function(a){G(this);var b=a.parentNode,c=B(a);b||m(new P("NOT_FOUND_ERR"));a=this.comparePoint(b,c);b=this.comparePoint(b,c+
1);return 0>a?0<b?wa:ua:0<b?va:qa},comparePoint:function(a,b){G(this);F(a,"HIERARCHY_REQUEST_ERR");M(a,this.startContainer);return 0>Q(a,b,this.startContainer,this.startOffset)?-1:0<Q(a,b,this.endContainer,this.endOffset)?1:0},createContextualFragment:ja?function(a){var b=this.startContainer,c=da(b);b||m(new P("INVALID_STATE_ERR"));var d=u;1==b.nodeType?d=b:N(b)&&(d=I.parentElement(b));d=d===u||"HTML"==d.nodeName&&I.qc(da(d).documentElement)&&I.qc(d)?c.createElement("body"):d.cloneNode(D);d.innerHTML=
a;return I.Zb(d)}:function(a){f(this);var b=g(this).createElement("body");b.innerHTML=a;return I.Zb(b)},Be:function(){G(this);var a=this.commonAncestorContainer.parentNode.cloneNode(D);a.appendChild(this.cloneContents());return a.innerHTML},intersectsNode:function(a,b){G(this);F(a,"NOT_FOUND_ERR");if(da(a)!==g(this))return D;var c=a.parentNode,d=B(a);F(c,"NOT_FOUND_ERR");var q=Q(c,d,this.endContainer,this.endOffset),c=Q(c,d+1,this.startContainer,this.startOffset);return b?0>=q&&0<=c:0>q&&0<c},isPointInRange:function(a,
b){G(this);F(a,"HIERARCHY_REQUEST_ERR");M(a,this.startContainer);return 0<=Q(a,b,this.startContainer,this.startOffset)&&0>=Q(a,b,this.endContainer,this.endOffset)},mc:function(a){return s(this,a,D)},Rd:function(a){return s(this,a,n)},Ha:function(a){if(this.mc(a)){var b=Q(this.startContainer,this.startOffset,a.startContainer,a.startOffset),c=Q(this.endContainer,this.endOffset,a.endContainer,a.endOffset),d=this.cloneRange();-1==b&&d.setStart(a.startContainer,a.startOffset);1==c&&d.setEnd(a.endContainer,
a.endOffset);return d}return u},Uc:function(a){if(this.Rd(a)){var b=this.cloneRange();-1==Q(a.startContainer,a.startOffset,this.startContainer,this.startOffset)&&b.setStart(a.startContainer,a.startOffset);1==Q(a.endContainer,a.endOffset,this.endContainer,this.endOffset)&&b.setEnd(a.endContainer,a.endOffset);return b}m(new d("Ranges do not intersect"))},containsNode:function(a,b){return b?this.intersectsNode(a,D):this.compareNode(a)==qa},jb:function(a,b){G(this);return w(this,a,b)},n:function(){return g(this)},
fd:function(a){f(this);this.setStartAfter(a);this.collapse(n)},getBookmark:function(b){var c=g(this),d=a.createRange(c);b=b||I.Y(c);d.selectNodeContents(b);var c=this.Ha(d),q=0,A=0;c&&(d.setEnd(c.startContainer,c.startOffset),q=d.toString().length,A=q+c.toString().length,d.detach());return{start:q,end:A,Ub:b}},moveToBookmark:function(a){var b=a.Ub,c=0;this.setStart(b,0);this.collapse(n);for(var b=[b],d,q=D,A=D,e,J;!A&&(d=b.pop());)if(3==d.nodeType)e=c+d.length,!q&&(a.start>=c&&a.start<=e)&&(this.setStart(d,
a.start-c),q=n),q&&(a.end>=c&&a.end<=e)&&(this.setEnd(d,a.end-c),A=n),c=e;else{J=d.childNodes;for(e=J.length;e--;)b.push(J[e])}},getName:aa("DomRange"),W:function(a){return U.yb(this,a)},w:function(){return l(this)}};S(U,W,function(a){f(a);a.startContainer=a.startOffset=a.endContainer=a.endOffset=a.document=u;a.collapsed=a.commonAncestorContainer=u});a.Ic=R.prototype;L.extend(U,{fe:ra,Ve:e,kd:K,od:S,w:l,lb:g,yb:function(a,b){return a.startContainer===b.startContainer&&a.startOffset===b.startOffset&&
a.endContainer===b.endContainer&&a.endOffset===b.endOffset}});a.Pa=U;a.Ue=d});
ma.i("WrappedRange",function(a,c){a.r(["DomUtil","DomRange"]);var g,h,k=a.B,v=a.a,s=k.ka,y=a.Pa,p=k.Y,t=k.ec,C=k.N;a.M.ha&&function(){function d(a){for(var b=e.length,c;b--;)c=e[b],a[c]=a.c[c];a.collapsed=a.startContainer===a.endContainer&&a.startOffset===a.endOffset}var b,e=y.fe,f;g=function(a){a||m(c.l("WrappedRange: Range must be specified"));this.c=a;d(this)};y.od(g,function(a,b,c,d,e){var f=a.endContainer!==d||a.endOffset!=e,z=!a.W(a.c);if(a.startContainer!==b||a.startOffset!=c||f||z)a.setEnd(d,
e),a.setStart(b,c)},function(a){a.c.detach();a.rd=n;for(var b=e.length;b--;)a[e[b]]=u});b=g.prototype;b.selectNode=function(a){this.c.selectNode(a);d(this)};b.cloneContents=function(){return this.c.cloneContents()};b.surroundContents=function(a){this.c.surroundContents(a);d(this)};b.collapse=function(a){this.c.collapse(a);d(this)};b.cloneRange=function(){return new g(this.c.cloneRange())};b.refresh=function(){d(this)};b.toString=function(){return this.c.toString()};var r=document.createTextNode("test");
p(document).appendChild(r);var x=document.createRange();x.setStart(r,0);x.setEnd(r,0);try{x.setStart(r,1),b.setStart=function(a,b){this.c.setStart(a,b);d(this)},b.setEnd=function(a,b){this.c.setEnd(a,b);d(this)},f=function(a){return function(b){this.c[a](b);d(this)}}}catch(h){b.setStart=function(a,b){try{this.c.setStart(a,b)}catch(c){this.c.setEnd(a,b),this.c.setStart(a,b)}d(this)},b.setEnd=function(a,b){try{this.c.setEnd(a,b)}catch(c){this.c.setStart(a,b),this.c.setEnd(a,b)}d(this)},f=function(a,
b){return function(c){try{this.c[a](c)}catch(e){this.c[b](c),this.c[a](c)}d(this)}}}b.setStartBefore=f("setStartBefore","setEndBefore");b.setStartAfter=f("setStartAfter","setEndAfter");b.setEndBefore=f("setEndBefore","setStartBefore");b.setEndAfter=f("setEndAfter","setStartAfter");x.selectNodeContents(r);b.selectNodeContents=x.startContainer==r&&x.endContainer==r&&0==x.startOffset&&x.endOffset==r.length?function(a){this.c.selectNodeContents(a);d(this)}:function(a){this.o(a,0,k.Fa(a))};x.selectNodeContents(r);
x.setEnd(r,3);f=document.createRange();f.selectNodeContents(r);f.setEnd(r,4);f.setStart(r,2);-1==x.compareBoundaryPoints(x.START_TO_END,f)&&1==x.compareBoundaryPoints(x.END_TO_START,f)?b.compareBoundaryPoints=function(a,b){b=b.c||b;a==b.START_TO_END?a=b.END_TO_START:a==b.END_TO_START&&(a=b.START_TO_END);return this.c.compareBoundaryPoints(a,b)}:b.compareBoundaryPoints=function(a,b){return this.c.compareBoundaryPoints(a,b.c||b)};var l=document.createElement("div");l.innerHTML="123";var s=l.firstChild,
w=p(document);w.appendChild(l);x.setStart(s,1);x.setEnd(s,2);x.deleteContents();"13"==s.data&&(b.deleteContents=function(){this.c.deleteContents();d(this)},b.extractContents=function(){var a=this.c.extractContents();d(this);return a});w.removeChild(l);w=u;v.ra(x,"createContextualFragment")&&(b.createContextualFragment=function(a){return this.c.createContextualFragment(a)});p(document).removeChild(r);x.detach();f.detach();b.getName=aa("WrappedRange");a.wa=g;a.Ca=function(a){a=t(a,c,"createNativeRange");
return a.createRange()}}();if(a.M.Nd){var w=function(a,b,c,e,g){var x=a.duplicate();x.collapse(c);var h=x.parentElement();k.tb(b,h)||(h=b);if(!h.canHaveHTML)return h=new s(h.parentNode,k.k(h)),{za:h,Bc:{Ac:h.offset,Tb:h.b}};b=k.n(h).createElement("span");b.parentNode&&b.parentNode.removeChild(b);var l,p=c?"StartToStart":"StartToEnd",t=g&&g.Tb==h?g.Ac:0,w=h.childNodes.length,v=w;for(g=v;;){g==w?h.appendChild(b):h.insertBefore(b,h.childNodes[g]);x.moveToElementText(b);l=x.compareEndPoints(p,a);if(0==
l||t==v)break;else if(-1==l)if(v==t+1)break;else t=g;else v=v==t+1?t:g;g=Math.floor((t+v)/2);h.removeChild(b)}p=b.nextSibling;if(-1==l&&p&&C(p)){x.setEndPoint(c?"EndToStart":"EndToEnd",a);if(/[\r\n]/.test(p.data)){c=x.duplicate();e=c.text.replace(/\r\n/g,"\r").length;for(e=c.moveStart("character",e);-1==c.compareEndPoints("StartToEnd",c);)e++,c.moveStart("character",1)}else e=x.text.length;c=new s(p,e)}else a=(e||!c)&&b.previousSibling,c=(c=(e||c)&&b.nextSibling)&&C(c)?new s(c,0):a&&C(a)?new s(a,
a.data.length):new s(h,k.k(b));b.parentNode.removeChild(b);return{za:c,Bc:{Ac:g,Tb:h}}},l=function(a,b){var c,e,g=a.offset,h=k.n(a.b),l=p(h).createTextRange(),s=C(a.b);s?(c=a.b,e=c.parentNode):(c=a.b.childNodes,c=g<c.length?c[g]:u,e=a.b);h=h.createElement("span");h.innerHTML="&#feff;";c?e.insertBefore(h,c):e.appendChild(h);l.moveToElementText(h);l.collapse(!b);e.removeChild(h);if(s)l[b?"moveStart":"moveEnd"]("character",g);return l};h=function(a){this.ca=a;this.refresh()};h.prototype=new y(document);
h.prototype.refresh=function(){var a,b,c;c=this.ca;a=c.parentElement();var e=c.duplicate();e.collapse(n);b=e.parentElement();e=c.duplicate();e.collapse(D);c=e.parentElement();b=b==c?b:k.gb(b,c);c=b==a?b:k.gb(a,b);0==this.ca.compareEndPoints("StartToEnd",this.ca)?b=a=w(this.ca,c,n,n).za:(b=w(this.ca,c,n,D),a=b.za,b=w(this.ca,c,D,D,b.Bc).za);this.setStart(a.b,a.offset);this.setEnd(b.b,b.offset)};h.prototype.getName=aa("WrappedTextRange");y.kd(h);h.ge=function(a){if(a.collapsed)return l(new s(a.startContainer,
a.startOffset),n);var b=l(new s(a.startContainer,a.startOffset),n),c=l(new s(a.endContainer,a.endOffset),D);a=p(y.lb(a)).createTextRange();a.setEndPoint("StartToStart",b);a.setEndPoint("EndToEnd",c);return a};a.Xe=h;if(!a.M.ha||a.ea.Ec){var e=function(){return this}();"undefined"==typeof e.Gb&&(e.Gb=h);a.Ca=function(a){a=t(a,c,"createNativeRange");return p(a).createTextRange()};a.wa=h}}a.createRange=function(d){d=t(d,c,"createRange");return new a.wa(a.Ca(d))};a.pd=function(a){a=t(a,c,"createRangeManagerRange");
return new y(a)};a.lf=function(d){c.Da("createIframeRange()","createRange(iframeEl)");return a.createRange(d)};a.mf=function(d){c.Da("createIframeRangeManagerRange()","createRangeManagerRange(iframeEl)");return a.pd(d)};a.Hb(function(c){var b=c.document;"undefined"==typeof b.createRange&&(b.createRange=function(){return a.createRange(b)});b=c=u})});
ma.i("WrappedSelection",function(a,c){function g(b,c){var d=b.X();b.removeAllRanges();for(var e=0,q=d.length;e<q;++e)a.yb(c,d[e])||b.addRange(d[e]);b.rangeCount||t(b)}function h(a){if(a&&a instanceof b)return a.refresh(),a;a=v(a,"getNativeSelection");var c=f(a),d=Y(a),e=ea?y(a):u;c?(c.q=d,c.j=e,c.refresh()):(c=new b(d,e,a),X.push({z:a,selection:c}));return c}function k(a){return"string"==typeof a?"backward"==a:!!a}function v(a,d){if(a){if(F.Zd(a))return a;if(a instanceof b)return a.z;var e=F.ec(a,
c,d);return F.mb(e)}return window}function s(a){return v(a,"getWinSelection").getSelection()}function y(a){return v(a,"getDocSelection").document.selection}function p(a,b,c){var d=c?"end":"start";c=c?"start":"end";a.anchorNode=b[d+"Container"];a.anchorOffset=b[d+"Offset"];a.focusNode=b[c+"Container"];a.focusOffset=b[c+"Offset"]}function t(a){a.anchorNode=a.focusNode=u;a.anchorOffset=a.focusOffset=0;a.rangeCount=0;a.isCollapsed=n;a.e.length=0}function C(b){var c;b instanceof T?(c=a.Ca(b.n()),c.setEnd(b.endContainer,
b.endOffset),c.setStart(b.startContainer,b.startOffset)):b instanceof R?c=b.c:O.ha&&b instanceof F.mb(b.startContainer).Gb&&(c=b);return c}function w(a){var b=a.jb(),d;a:if(!b.length||1!=b[0].nodeType)d=D;else{d=1;for(var e=b.length;d<e;++d)if(!F.nc(b[0],b[d])){d=D;break a}d=n}d||m(c.l("getSingleElementFromRange: range "+a.w()+" did not consist of a single element"));return b[0]}function l(a,b){var c=new R(b);a.e=[c];p(a,c,D);a.rangeCount=1;a.isCollapsed=c.collapsed}function e(b){b.e.length=0;if("None"==
b.j.type)t(b);else{var c=b.j.createRange();if(c&&"undefined"!=typeof c.text)l(b,c);else{b.rangeCount=c.length;for(var d,e=W(c.item(0)),q=0;q<b.rangeCount;++q)d=a.createRange(e),d.selectNode(c.item(q)),b.e.push(d);b.isCollapsed=1==b.rangeCount&&b.e[0].collapsed;p(b,b.e[b.rangeCount-1],D)}}}function d(a,b){for(var d=a.j.createRange(),L=w(b),q=W(d.item(0)),q=U(q).createControlRange(),J=0,ja=d.length;J<ja;++J)q.add(d.item(J));try{q.add(L)}catch(f){m(c.l("addRange(): Element within the specified Range could not be added to control selection (does it have layout?)"))}q.select();
e(a)}function b(a,b,c){this.q=a;this.j=b;this.e=[];this.z=c;this.refresh()}function z(a){a.z=a.anchorNode=a.focusNode=a.e=u;a.rangeCount=a.anchorOffset=a.focusOffset=0;a.rd=n}function f(a,b){for(var c=X.length,d,q;c--;)if(d=X[c],q=d.selection,"deleteAll"==b)z(q);else if(d.z==a)return"delete"==b?(X.splice(c,1),n):q;"deleteAll"==b&&(X.length=0);return u}function r(a,b){for(var d=W(b[0].startContainer),d=U(d).createControlRange(),L=0,q;L<b.length;++L){q=w(b[L]);try{d.add(q)}catch(J){m(c.l("setRanges(): Element within the one of the specified Ranges could not be added to control selection (does it have layout?)"))}}d.select();
e(a)}function x(a,b){a.z.document!=W(b)&&m(new V("WRONG_DOCUMENT_ERR"))}function M(b){return function(c,d){var e;this.rangeCount?(e=this.getRangeAt(0),e["set"+(b?"Start":"End")](c,d)):(e=a.createRange(this.z.document),e.o(c,d));this.ja(e,this.$())}}function E(a){var b=[],c=new K(a.anchorNode,a.anchorOffset),d=new K(a.focusNode,a.focusOffset),q="function"==typeof a.getName?a.getName():"Selection";if("undefined"!=typeof a.rangeCount)for(var e=0,ja=a.rangeCount;e<ja;++e)b[e]=T.w(a.getRangeAt(e));return"["+
q+"(Ranges: "+b.join(", ")+")(anchor: "+c.w()+", focus: "+d.w()+"]"}a.r(["DomUtil","DomRange","WrappedRange"]);a.ea.ed=n;var F=a.B,H=a.a,G=H.ra,T=a.Pa,R=a.wa,V=a.Fb,K=F.ka,Y,S,O=a.M,W=F.n,U=F.Y,I=T.yb,L=G(window,"getSelection"),ea=H.rb(document,"selection");O.Cf=L;var P=(O.Bf=ea)&&(!L||a.ea.Ec);P?(Y=y,a.tc=function(a){a=v(a,"isSelectionValid").document;var b=a.selection;return"None"!=b.type||W(b.createRange().parentElement())==a}):L?(Y=s,a.tc=aa(n)):c.s("Neither document.selection or window.getSelection() detected.");
a.xf=Y;var L=Y(),N=a.Ca(document),B=U(document),Z=H.Ra(L,["anchorNode","focusNode","anchorOffset","focusOffset"]);O.ag=Z;var da=G(L,"extend");O.bg=da;var Q="number"==typeof L.rangeCount;O.cg=Q;var ia=D,ka=n;H.da(L,["addRange","getRangeAt","removeAllRanges"])&&("number"==typeof L.rangeCount&&O.ha)&&function(){var a=window.getSelection();if(a){var b=U(document),c=b.appendChild(document.createElement("div"));c.contentEditable="false";var d=c.appendChild(document.createTextNode("\u00a0\u00a0\u00a0")),
q=document.createRange();q.setStart(d,1);q.collapse(n);a.addRange(q);ka=1==a.rangeCount;a.removeAllRanges();var e=q.cloneRange();q.setStart(d,0);e.setEnd(d,3);e.setStart(d,2);a.addRange(q);a.addRange(e);ia=2==a.rangeCount;b.removeChild(c);a.removeAllRanges();q.detach();e.detach()}}();O.dg=ia;O.gf=ka;var ca=D;B&&G(B,"createControlRange")&&(B=B.createControlRange(),H.Ra(B,["item","add"])&&(ca=n));O.Af=ca;S=Z?function(a){return a.anchorNode===a.focusNode&&a.anchorOffset===a.focusOffset}:function(a){return a.rangeCount?
a.getRangeAt(a.rangeCount-1).collapsed:D};var $;G(L,"getRangeAt")?$=function(a,b){try{return a.getRangeAt(b)}catch(c){return u}}:Z&&($=function(b){var c=W(b.anchorNode),c=a.createRange(c);c.o(b.anchorNode,b.anchorOffset,b.focusNode,b.focusOffset);c.collapsed!==this.isCollapsed&&c.o(b.focusNode,b.focusOffset,b.anchorNode,b.anchorOffset);return c});var X=[];a.getSelection=h;a.wf=function(b){c.Da("getIframeSelection()","getSelection(iframeEl)");return a.getSelection(F.Cd(b))};B=b.prototype;if(!P&&Z&&
H.da(L,["removeAllRanges","addRange"])){B.removeAllRanges=function(){this.q.removeAllRanges();t(this)};var la=function(b,c){var d=T.lb(c),d=a.createRange(d);d.Sb(c.endContainer,c.endOffset);b.q.addRange(C(d));b.q.extend(c.startContainer,c.startOffset);b.refresh()};B.addRange=Q?function(b,c){if(ca&&ea&&"Control"==this.j.type)d(this,b);else if(k(c)&&da)la(this,b);else{var e;ia?e=this.rangeCount:(this.removeAllRanges(),e=0);this.q.addRange(C(b).cloneRange());this.rangeCount=this.q.rangeCount;this.rangeCount==
e+1?(a.ea.ed&&(e=$(this.q,this.rangeCount-1))&&!I(e,b)&&(b=new R(e)),this.e[this.rangeCount-1]=b,p(this,b,fa(this.q)),this.isCollapsed=S(this)):this.refresh()}}:function(a,b){k(b)&&da?la(this,a):(this.q.addRange(C(a)),this.refresh())};B.Oa=function(a){if(ca&&1<a.length)r(this,a);else{this.removeAllRanges();for(var b=0,c=a.length;b<c;++b)this.addRange(a[b])}}}else if(G(L,"empty")&&G(N,"select")&&ca&&P)B.removeAllRanges=function(){try{if(this.j.empty(),"None"!=this.j.type){var a;if(this.anchorNode)a=
W(this.anchorNode);else if("Control"==this.j.type){var b=this.j.createRange();b.length&&(a=W(b.item(0)))}a&&(U(a).createTextRange().select(),this.j.empty())}}catch(c){}t(this)},B.addRange=function(a){"Control"==this.j.type?d(this,a):(R.ge(a).select(),this.e[0]=a,this.rangeCount=1,this.isCollapsed=this.e[0].collapsed,p(this,a,D))},B.Oa=function(a){this.removeAllRanges();var b=a.length;1<b?r(this,a):b&&this.addRange(a[0])};else return c.s("No means of selecting a Range or TextRange was found"),D;B.getRangeAt=
function(a){(0>a||a>=this.rangeCount)&&m(new V("INDEX_SIZE_ERR"));return this.e[a].cloneRange()};var ga;if(P)ga=function(b){var c;a.tc(b.z)?c=b.j.createRange():(c=U(b.z.document).createTextRange(),c.collapse(n));"Control"==b.j.type?e(b):c&&"undefined"!=typeof c.text?l(b,c):t(b)};else if(G(L,"getRangeAt")&&"number"==typeof L.rangeCount)ga=function(b){if(ca&&ea&&"Control"==b.j.type)e(b);else if(b.e.length=b.rangeCount=b.q.rangeCount,b.rangeCount){for(var c=0,d=b.rangeCount;c<d;++c)b.e[c]=new a.wa(b.q.getRangeAt(c));
p(b,b.e[b.rangeCount-1],fa(b.q));b.isCollapsed=S(b)}else t(b)};else if(Z&&"boolean"==typeof L.isCollapsed&&"boolean"==typeof N.collapsed&&O.ha)ga=function(a){var b;b=a.q;b.anchorNode?(b=$(b,0),a.e=[b],a.rangeCount=1,b=a.q,a.anchorNode=b.anchorNode,a.anchorOffset=b.anchorOffset,a.focusNode=b.focusNode,a.focusOffset=b.focusOffset,a.isCollapsed=S(a)):t(a)};else return c.s("No means of obtaining a Range or TextRange from the user's selection was found"),D;B.refresh=function(a){var b=a?this.e.slice(0):
u,c=this.anchorNode,d=this.anchorOffset;ga(this);if(a){a=b.length;if(a!=this.e.length||this.anchorNode!=c||this.anchorOffset!=d)return n;for(;a--;)if(!I(b[a],this.e[a]))return n;return D}};B.removeRange=ca?function(a){if("Control"==this.j.type){var b=this.j.createRange();a=w(a);for(var c=W(b.item(0)),c=U(c).createControlRange(),d,q=D,J=0,ja=b.length;J<ja;++J)d=b.item(J),d!==a||q?c.add(b.item(J)):q=n;c.select();e(this)}else g(this,a)}:function(a){g(this,a)};var fa;!P&&Z&&O.ha?(fa=function(a){var b=
D;a.anchorNode&&(b=1==F.Za(a.anchorNode,a.anchorOffset,a.focusNode,a.focusOffset));return b},B.$=function(){return fa(this)}):fa=B.$=aa(D);B.Df=B.$;B.toString=function(){for(var a=[],b=0,c=this.rangeCount;b<c;++b)a[b]=""+this.e[b];return a.join("")};B.collapse=function(b,c){x(this,b);var d=a.createRange(b);d.Sb(b,c);this.ja(d);this.isCollapsed=n};B.collapseToStart=function(){if(this.rangeCount){var a=this.e[0];this.collapse(a.startContainer,a.startOffset)}else m(new V("INVALID_STATE_ERR"))};B.collapseToEnd=
function(){if(this.rangeCount){var a=this.e[this.rangeCount-1];this.collapse(a.endContainer,a.endOffset)}else m(new V("INVALID_STATE_ERR"))};B.selectAllChildren=function(b){x(this,b);var c=a.createRange(b);c.selectNodeContents(b);this.removeAllRanges();this.addRange(c)};B.deleteFromDocument=function(){if(ca&&ea&&"Control"==this.j.type){for(var a=this.j.createRange(),b;a.length;)b=a.item(0),a.remove(b),b.parentNode.removeChild(b);this.refresh()}else if(this.rangeCount&&(a=this.X(),a.length)){this.removeAllRanges();
b=0;for(var c=a.length;b<c;++b)a[b].deleteContents();this.addRange(a[c-1])}};B.Ea=function(a,b){for(var c=0,d=this.e.length;c<d;++c)if(a(this.getRangeAt(c)))return b};B.X=function(){var a=[];this.Ea(function(b){a.push(b)});return a};B.ja=function(a,b){this.removeAllRanges();this.addRange(a,b)};B.Lb=function(a,b){var c=[];this.Ea(function(d){c.push(d[a].apply(d,b))});return c};B.setStart=M(n);B.setEnd=M(D);a.Ic.select=function(a){h(this.n()).ja(this,a)};B.Ob=function(a){var b=[],c=this.$();this.Ea(function(c){a(c);
b.push(c)});this.removeAllRanges();c&&1==b.length?this.addRange(b[0],"backward"):this.Oa(b)};B.containsNode=function(a,b){return this.Ea(function(c){return c.containsNode(a,b)},n)};B.getBookmark=function(a){return{ma:this.$(),ee:this.Lb("getBookmark",[a])}};B.moveToBookmark=function(b){for(var c=[],d=0,e,q;e=b.ee[d++];)q=a.createRange(this.z),q.moveToBookmark(e),c.push(q);b.ma?this.ja(c[0],"backward"):this.Oa(c)};B.Be=function(){return this.Lb("toHtml").join("")};B.getName=aa("WrappedSelection");
B.w=function(){return E(this)};B.detach=function(){f(this.z,"delete");z(this)};b.sf=function(){f(u,"deleteAll")};b.w=E;b.Vd=k;a.Wc=b;a.re=B;a.Hb(function(a){"undefined"==typeof a.getSelection&&(a.getSelection=function(){return h(a)});a=u})});ma.i("CssClassApplier",function(a,c){function g(a,b){return a.className&&RegExp("(?:^|\\s)"+b+"(?:\\s|$)").test(a.className)}function h(a,b){a.className?g(a,b)||(a.className+=" "+b):a.className=b}function k(a){return a.split(/\s+/).sort().join(" ")}function v(a,b){return k(a.className)==k(b.className)}function s(a,b,c,d){-1==c&&(c=b.childNodes.length);for(var e=a.parentNode,f=H.k(a),g=0,h;h=d[g++];){var r=h.b,k=h.offset,z=r,l=k;r==b&&k>c&&l++;if(r==e&&(k==f||k==f+1))z=b,l+=c-f;r==e&&k>f+1&&l--;h.b=
z;h.offset=l}b.childNodes.length==c?b.appendChild(a):b.insertBefore(a,b.childNodes[c])}function y(a,b){for(var c=a.parentNode,d=H.k(a),e,f=[];e=a.firstChild;)s(e,c,d++,b),f.push(e);a.parentNode.removeChild(a);return f}function p(a,b){var c=a.cloneRange();c.selectNodeContents(b);var d=c.Ha(a),d=d?d.toString():"";c.detach();return""!=d}function t(a){for(var b=a.jb([3]),c=0,d;(d=b[c])&&!p(a,d);)++c;for(var e=b.length-1;(d=b[e])&&!p(a,d);)--e;return b.slice(c,e+1)}function C(a,b){if(a.attributes.length!=
b.attributes.length)return D;for(var c=0,d=a.attributes.length,e,f;c<d;++c)if(e=a.attributes[c],f=e.name,"class"!=f&&(f=b.attributes.getNamedItem(f),e.specified!=f.specified||e.specified&&e.nodeValue!==f.nodeValue))return D;return n}function w(a,b){for(var c=0,d=a.attributes.length,e;c<d;++c)if(e=a.attributes[c].name,(!b||!T(b,e))&&a.attributes[c].specified&&"class"!=e)return n;return D}function l(a,b){var c,d;for(d in b)if(b.hasOwnProperty(d))if(c=b[d],"object"==typeof c){if(!l(a[d],c))return D}else if(a[d]!==
c)return D;return n}function e(a){var b;return a&&1==a.nodeType&&((b=a.parentNode)&&9==b.nodeType&&"on"==b.designMode||K(a)&&!K(a.parentNode))}function d(a){return(K(a)||1!=a.nodeType&&K(a.parentNode))&&!e(a)}function b(a){return a&&1==a.nodeType&&!Y.test(V(a,"display"))}function z(a){if(0==a.data.length)return n;if(S.test(a.data))return D;switch(V(a.parentNode,"whiteSpace")){case "pre":case "pre-wrap":case "-moz-pre-wrap":return D;case "pre-line":if(/[\r\n]/.test(a.data))return D}return b(a.previousSibling)||
b(a.nextSibling)}function f(a){var b=[],c,d;for(c=0;d=a[c++];)b.push(new G(d.startContainer,d.startOffset),new G(d.endContainer,d.endOffset));return b}function r(a,b){for(var c=0,d,e,f,g=a.length;c<g;++c)d=a[c],e=b[2*c],f=b[2*c+1],d.o(e.b,e.offset,f.b,f.offset)}function x(a,b,d,e){var f,g;g=0==d;if(H.nc(b,a))return a;H.N(b)&&(f=H.k(b),0==d?d=f:d==b.length?d=f+1:m(c.l("splitNodeAt() should not be called with offset in the middle of a data node ("+d+" in "+b.data)),b=b.parentNode);if(H.N(b)?0==d?b.previousSibling:
d==b.length?b.nextSibling:1:0<d&&d<b.childNodes.length){f=b.cloneNode(D);g=b.parentNode;f.id&&f.removeAttribute("id");for(var h,k=0;h=b.childNodes[d];)s(h,f,k++,e);s(f,g,H.k(b)+1,e);return b==a?f:x(a,g,H.k(f),e)}return a!=b?(f=b.parentNode,b=H.k(b),g||b++,x(a,f,b,e)):a}function M(a){var b=a?"nextSibling":"previousSibling";return function(c,d){var e=c.parentNode,f=c[b];if(f){if(f&&3==f.nodeType)return f}else if(d&&(f=e[b])&&1==f.nodeType&&e.tagName==f.tagName&&v(e,f)&&C(e,f)&&"inline"==V(e,"display")&&
"inline"==V(f,"display"))return f[a?"firstChild":"lastChild"];return u}}function E(a){this.Wd=1==a.nodeType;this.J=[];(a=this.Wd?a.lastChild:a)&&(this.J[0]=a)}function F(a,b,c){this.V=a;var d,e,f=u;if("object"==typeof b&&b!==u){c=b.ba;f=b.T;for(d=0;e=U[d++];)b.hasOwnProperty(e)&&(this[e]=b[e]);d=b.normalize}else d=b;this.normalize="undefined"==typeof d?n:d;this.Ta=[];d=document.createElement(this.qa);this.T=this.Wb(f,d,n);this.ud=this.T.hasOwnProperty("className")?this.T.className:a;this.Jb=D;a=typeof c;
if("string"==a)"*"==c?this.Jb=n:this.ba=c.toLowerCase().replace(/^\s\s*/,"").replace(/\s\s*$/,"").split(/\s*,\s*/);else if("object"==a&&"number"==typeof c.length){this.ba=[];d=0;for(a=c.length;d<a;++d)"*"==c[d]?this.Jb=n:this.ba.push(c[d].toLowerCase())}else this.ba=[this.qa]}a.r(["WrappedSelection","WrappedRange"]);var H=a.B,G=H.ka,T=H.Sa,R=function(){function a(b,c,d){return c&&d?" ":""}return function(b,c){b.className&&(b.className=b.className.replace(RegExp("(^|\\s)"+c+"(\\s|$)"),a))}}(),V=H.dc,
K;(function(){K="boolean"==typeof document.createElement("div").isContentEditable?function(a){return a&&1==a.nodeType&&a.isContentEditable}:function(a){return!a||1!=a.nodeType||"false"==a.contentEditable?D:"true"==a.contentEditable||K(a.parentNode)}})();var Y=/^inline(-block|-table)?$/i,S=/[^\r\n\t\f \u200B]/,O=M(D),W=M(n);E.prototype={sd:function(a){var b=this.J,c=b[0];if(1<b.length){for(var d=[],e=0,f,g,h=0,k=b.length,r;h<k;++h){f=b[h];g=f.parentNode;if(0<h&&(g.removeChild(f),g.hasChildNodes()||
g.parentNode.removeChild(g),a))for(g=0;r=a[g++];)r.b==f&&(r.b=c,r.offset+=e);d[h]=f.data;e+=f.data.length}c.data=d.join("")}return c.data},ib:function(){for(var a=this.J.length,b=0;a--;)b+=this.J[a].length;return b},toString:function(){for(var a=[],b=0,c=this.J.length;b<c;++b)a[b]="'"+this.J[b].data+"'";return"[Merge("+a.join(",")+")]"}};var U=["elementTagName","ignoreWhiteSpace","applyToEditableOnly","useExistingElements","removeEmptyElements"],I={};F.prototype={qa:"mark",T:{},jc:n,$c:D,Ie:n,Lc:n,
Wb:function(a,b,c){var d,e,f={},g,r,z;for(z in a)if(a.hasOwnProperty(z))if(r=a[z],e=b[z],"className"==z)h(b,r),h(b,this.V),b[z]=k(b[z]),c&&(f[z]=b[z]);else if("style"==z){c&&(f[z]=g={});for(d in a[z])e[d]=r[d],c&&(g[d]=e[d]);this.Ta.push(z)}else b[z]=r,c&&(f[z]=b[z],r=I.hasOwnProperty(z)?I[z]:z,this.Ta.push(r));return c?f:""},hc:function(a){return 1==a.nodeType&&T(this.ba,a.tagName.toLowerCase())&&g(a,this.V)},fc:function(a){for(;a;){if(this.hc(a))return a;a=a.parentNode}return u},sb:function(a){return!this.$c||
d(a)},Xd:function(a){return this.jc&&a&&3==a.nodeType&&z(a)},Dc:function(a,b,c,d){for(var e=a[0],f=a[a.length-1],g=[],h,r=e,z=f,k=0,l=f.length,x,s,p=0,t=a.length;p<t;++p)x=a[p],(s=O(x,!d))?(h||(h=new E(s),g.push(h)),h.J.push(x),x===e&&(r=h.J[0],k=r.length),x===f&&(z=h.J[0],l=h.ib())):h=u;if(a=W(f,!d))h||(h=new E(f),g.push(h)),h.J.push(a);if(g.length){p=0;for(t=g.length;p<t;++p)g[p].sd(c);b.o(r,k,z,l)}},md:function(a){a=a.createElement(this.qa);this.Wb(this.T,a,D);h(a,this.V);return a},bd:function(a){var b=
a.parentNode;1==b.childNodes.length&&this.Ie&&T(this.ba,b.tagName.toLowerCase())&&l(b,this.T)?h(b,this.V):(b=this.md(H.n(a)),a.parentNode.insertBefore(b,a),b.appendChild(a))},sc:function(a){return a.tagName.toLowerCase()==this.qa&&k(a.className)==this.ud&&l(a,this.T)&&!w(a,this.Ta)&&this.sb(a)},pc:function(a){var b=a.childNodes.length;return 1==a.nodeType&&this.sc(a)&&(0==b||1==b&&this.pc(a.firstChild))},Kc:function(a){var b=this;a=a.jb([1],function(a){return b.pc(a)});for(var c=0,d;d=a[c++];)d.parentNode.removeChild(d)},
Ee:function(a,b,c,d){b.containsNode(c)||(a=b.cloneRange(),a.selectNode(c),a.isPointInRange(b.endContainer,b.endOffset)&&(x(c,b.endContainer,b.endOffset,d),b.setEndAfter(c)),a.isPointInRange(b.startContainer,b.startOffset)&&(c=x(c,b.startContainer,b.startOffset,d)));this.sc(c)?y(c,d):R(c,this.V)},ad:function(a,b){b=b||[];var c=f(b||[]);a.Oc(c);this.Lc&&this.Kc(a);var d=t(a);if(d.length){for(var e=0,g;g=d[e++];)!this.Xd(g)&&(!this.fc(g)&&this.sb(g))&&this.bd(g,c);g=d[d.length-1];a.o(d[0],0,g,g.length);
this.normalize&&this.Dc(d,a,c,D);r(b,c)}},De:function(a,b){b=b||[];var c=f(b);a.Oc(c);this.Lc&&this.Kc(a,c);var d=t(a),e,g,h=d[d.length-1];if(d.length){for(var z=0,k=d.length;z<k;++z)e=d[z],(g=this.fc(e))&&this.sb(e)&&this.Ee(e,a,g,c),a.o(d[0],0,h,h.length);this.normalize&&this.Dc(d,a,c,n);r(b,c)}},detach:function(){}};F.a={hc:g,Ye:h,Uf:R,yf:v,Wf:y,uf:C,tf:w,hg:x,If:K,Jf:e,Hf:d};a.Oe=a.Ne=F;a.ab=a.jf=function(a,b,c){return new F(a,b,c)}});ma.i("Highlighter",function(a){function c(a,c){this.type=a;this.jd=c}function g(a,d){w[a]=new c(a,d)}function h(a,c){this.start=a;this.end=c}function k(a,c,b,g,f,h){f?(this.id=f,C=Math.max(C,f+1)):this.id=C++;this.L=c;this.S=a;this.Wa=b;this.Ba=g;this.$a=h||u;this.Qa=D}function v(a,d){this.S=a||document;this.Xa={};this.p=[];var b;var g=d||"textContent",f=w[g];f instanceof c?b=f.create():m(Error("Highlighter type '"+g+"' is not valid"));this.Ba=b}a.r(["CssClassApplier"]);var s=a.B,y=s.Sa,p=s.Y,t=[].forEach?
function(a,c){a.forEach(c)}:function(a,c){for(var b=0,g=a.length;b<g;++b)c(a[b])},C=1,w={};c.prototype.create=function(){var a=this.jd();a.type=this.type;return a};a.Tf=g;h.prototype={Qd:function(a){return this.start<a.end&&this.end>a.start},Uc:function(a){return new h(Math.min(this.start,a.start),Math.max(this.end,a.end))},Ha:function(a){return new h(Math.max(this.start,a.start),Math.min(this.end,a.end))},toString:function(){return"[CharacterRange("+this.start+", "+this.end+")]"}};h.$b=function(a){return new h(a.start,
a.end)};var l={Jc:function(a,c){var b=a.getBookmark(c);return new h(b.start,b.end)},Ua:function(c,d,b){c=a.createRange(c);c.moveToBookmark({start:d.start,end:d.end,Ub:b});return c},Ab:function(a,c){for(var b=a.X(),g=[],f=1==b.length&&a.$(),h=0,k=b.length;h<k;++h)g[h]={L:this.Jc(b[h],c),ma:f};return g},Nc:function(a,c,b){a.removeAllRanges();for(var g=a.z.document,f=0,h=c.length,k,l;f<h;++f)l=c[f],k=this.Ua(g,l.L,b),a.addRange(k,l.ma)}};g("textContent",function(){return l});g("TextRange",function(){var c;
return function(){if(!c){var d=a.yc.We;d?d.G||m(Error("TextRange module is present but not supported.")):m(Error("TextRange module is missing."));c={Jc:function(a,c){return h.$b(a.Rc(c))},Ua:function(b,c,d){b=a.createRange(b);b.Ma(d,c.start,c.end);return b},Ab:function(a,c){return a.qe(c)},Nc:function(a,c,d){a.oe(d,c)}}}return c}}());k.prototype={Bd:function(){return this.$a?this.S.getElementById(this.$a):p(this.S)},kb:function(){return this.Ba.Ua(this.S,this.L,this.Bd())},Tc:function(){this.Wa.De(this.kb());
this.Qa=D},apply:function(){this.Wa.ad(this.kb());this.Qa=n},toString:function(){return"[Highlight(ID: "+this.id+", class: "+this.Wa.V+", character range: "+this.L.start+" - "+this.L.end+")]"}};v.prototype={Xc:function(a){this.Xa[a.V]=a},ne:function(a){for(var c=0,b=this.p.length,g;c<b;++c)g=this.p[c],y(a,g)&&(g.Tc(),this.p.splice(c--,1))},Dd:function(a){var c=[],b=this.p;t(a,function(a){t(b,function(b){a.mc(b.kb())&&!y(c,b)&&c.push(b)})});return c},Ld:function(c,d,b){var g,f,r,l=this.p,p=this.Ba,
s=this.S,v=[];c=this.Xa[c];b=b||u;var w;if(b&&(g=this.S.getElementById(b)))f=a.createRange(this.S),f.selectNodeContents(g),w=new h(0,f.toString().length),f.detach();var y,C;g=0;for(f=d.length;g<f;++g){y=d[g];w&&(y=y.Ha(w));for(r=0;r<l.length;++r)b==l[r].$a&&(C=l[r].L,C.Qd(y)&&(v.push(l[r]),l[r]=new k(s,C.Uc(y),c,p,u,b)));l.push(new k(s,y,c,p,u,b))}t(v,function(a){a.Tc()});var R=[];t(l,function(a){a.Qa||(a.apply(),R.push(a))});return R},Md:function(c,d,b){var g=this.Ba;d=d||a.getSelection();var f=
this.Xa[c],k=d.z.document,k=b?k.getElementById(b):p(k);f||m(Error("No class applier found for class '"+c+"'"));var f=g.Ab(d,k),l=[];t(f,function(a){l.push(h.$b(a.L))});c=this.Ld(c,l,b);g.Nc(d,f,k);return c},Fe:function(c){c=c||a.getSelection();var d=this.Dd(c.X());this.ne(d);c.removeAllRanges()}};a.Pe=v;a.bb=function(a,c){return new v(a,c)}});ma.i("Serializer",function(a,c){function g(a,c){c=c||[];var b=a.nodeType,h=a.childNodes,f=h.length,k=[b,a.nodeName,f].join(":"),l="",p="";switch(b){case 3:l=a.nodeValue.replace(/</g,"&lt;").replace(/>/g,"&gt;");break;case 8:l="\x3c!--"+a.nodeValue.replace(/</g,"&lt;").replace(/>/g,"&gt;")+"--\x3e";break;default:l="<"+k+">",p="</>"}l&&c.push(l);for(b=0;b<f;++b)g(h[b],c);p&&c.push(p);return c}function h(a){a=g(a).join("");return w(a).toString(16)}function k(a,c,b){var g=[],f=a;for(b=b||l.n(a).documentElement;f&&
f!=b;)g.push(l.k(f,n)),f=f.parentNode;return g.join("/")+":"+c}function v(a,d,b){d||(d=(b||document).documentElement);a=a.split(":");b=a[0]?a[0].split("/"):[];for(var g=b.length,f;g--;)f=parseInt(b[g],10),f<d.childNodes.length?d=d.childNodes[f]:m(c.l("deserializePosition() failed: node "+l.ia(d)+" has no child with index "+f+", "+g));return new l.ka(d,parseInt(a[1],10))}function s(e,d,b){b=b||a.Pa.lb(e).documentElement;l.tb(b,e.commonAncestorContainer)||m(c.l("serializeRange(): range "+e.w()+" is not wholly contained within specified root node "+
l.ia(b)));e=k(e.startContainer,e.startOffset,b)+","+k(e.endContainer,e.endOffset,b);d||(e+="{"+h(b)+"}");return e}function y(e,d,b){d?b=b||l.n(d):(b=b||document,d=b.documentElement);e=/^([^,]+),([^,\{]+)(\{([^}]+)\})?$/.exec(e);var g=e[4],f=h(d);g&&g!==h(d)&&m(c.l("deserializeRange(): checksums of serialized range root node ("+g+") and target root node ("+f+") do not match"));g=v(e[1],d,b);d=v(e[2],d,b);b=a.createRange(b);b.o(g.b,g.offset,d.b,d.offset);return b}function p(a,c,b){c||(c=(b||document).documentElement);
a=/^([^,]+),([^,]+)(\{([^}]+)\})?$/.exec(a)[3];return!a||a===h(c)}function t(c,d,b){c=a.getSelection(c);c=c.X();for(var g=[],f=0,h=c.length;f<h;++f)g[f]=s(c[f],d,b);return g.join("|")}function C(c,d,b){d?b=b||l.mb(d):(b=b||window,d=b.document.documentElement);c=c.split("|");for(var g=a.getSelection(b),f=[],h=0,k=c.length;h<k;++h)f[h]=y(c[h],d,b.document);g.Oa(f);return g}a.r(["WrappedSelection","WrappedRange"]);("undefined"==typeof encodeURIComponent||"undefined"==typeof decodeURIComponent)&&c.s("Global object is missing encodeURIComponent and/or decodeURIComponent method");
var w=function(){var a=u;return function(c){for(var b=[],g=0,f=c.length,h;g<f;++g)h=c.charCodeAt(g),128>h?b.push(h):2048>h?b.push(h>>6|192,h&63|128):b.push(h>>12|224,h>>6&63|128,h&63|128);c=-1;if(!a){for(var g=[],f=0,k;256>f;++f){k=f;for(h=8;h--;)k=1==(k&1)?k>>>1^3988292384:k>>>1;g[f]=k>>>0}a=g}g=a;f=0;for(h=b.length;f<h;++f)k=(c^b[f])&255,c=c>>>8^g[k];return(c^-1)>>>0}}(),l=a.B;a.fg=k;a.rf=v;a.Na=s;a.qd=y;a.cf=p;a.Ab=t;a.cb=C;a.df=function(a,c,b){var g;c?g=b?b.document:l.n(c):(b=b||window,c=b.document.documentElement);
a=a.split("|");b=0;for(var f=a.length;b<f;++b)if(!p(a[b],c,g))return D;return n};a.Yf=function(a){a=a||window;var c;a:{c=a.document.cookie.split(/[;,]/);for(var b=0,g=c.length,f;b<g;++b)if(f=c[b].split("="),"RangeManagerSerializedSelection"==f[0].replace(/^\s+/,"")&&(f=f[1])){c=decodeURIComponent(f.replace(/\s+$/,""));break a}c=u}c&&C(c,a.S)};a.Zf=function(c,d){c=c||window;d="object"==typeof d?d:{};var b=d.vd?";expires="+d.vd.toUTCString():"",g=d.path?";path="+d.path:"",f=d.domain?";domain="+d.domain:"",
h=d.$f?";secure":"",k=t(a.getSelection(c));c.document.cookie=encodeURIComponent("RangeManagerSerializedSelection")+"="+encodeURIComponent(k)+b+g+f+h};a.hb=h;a.Pf=g});ma.i("TextRange",function(a,c){function g(a,b){if(a){var c={};S(c,b);S(c,a);return c}return b}function h(a){var b,c;return a?(b=a.language||ea,c={},S(c,da[b]||da[ea]),S(c,a),c):da[ea]}function k(a,b){var c=$(a,"display",b),d=a.tagName.toLowerCase();return"block"==c&&X&&la.hasOwnProperty(d)?la[d]:c}function v(a){for(var b=a,c=[];b.parentNode;)c.unshift(b.parentNode),b=b.parentNode;a=c.concat([a]);b=0;for(c=a.length;b<c;++b)if(1==a[b].nodeType&&"none"==k(a[b]))return n;return D}function s(a,b){var c;
if(!b&&a.hasChildNodes())c=a.firstChild;else{for(c=a;c&&!c.nextSibling;)c=c.parentNode;c=!c?u:c.nextSibling}return c}function y(a){var b=a.previousSibling;if(b){for(a=b;a.hasChildNodes();)a=a.lastChild;return a}return(a=a.parentNode)&&1==a.nodeType?a:u}function p(a){if(!a||3!=a.nodeType)return D;var b=a.data;if(""===b)return n;var c=a.parentNode;if(!c||1!=c.nodeType)return D;a=$(a.parentNode,"whiteSpace");return/^[\t\n\r ]+$/.test(b)&&/^(normal|nowrap)$/.test(a)||/^[\t\r ]+$/.test(b)&&"pre-line"==
a}function t(a){return""===a.data?n:!p(a)?D:!a.parentNode||v(a)?n:D}function C(a){var b=a.nodeType,c;if(!(c=7==b)){if(!(b=8==b))if(!(b=v(a)))if(!(b=/^(script|style)$/i.test(a.nodeName)))var d,b=3==a.nodeType&&(d=a.parentNode)&&"hidden"==$(d,"visibility")||t(a);c=b}return c}function w(a,b){var c=a.nodeType;return 7==c||8==c||1==c&&"none"==k(a,b)}function l(){this.Cb={}}function e(a,b,c){return function(d){var e=this.Aa;if(e.hasOwnProperty(a))return ga++,e[a];fa++;d=b.call(this,c?this[c]:this,d);return e[a]=
d}}function d(a,b){this.node=this.b=a;this.F=b;this.Aa=new l;this.ce=new l}function b(a,b){this.offset=b;this.sa=a;this.b=a.b;this.F=a.F;this.Aa=new l}function z(){f();return ha=new na}function f(){ha&&ha.detach();ha=u}function r(a,b,d,e){function g(){var a=u;b?(a=f,h||(f=f.U(),h=!f||d&&f.W(d))):h||(a=f=f.La(),h=!f||d&&f.W(d));h&&(f=u);return a}d&&(b?C(d.b)&&(d=a.U()):C(d.b)&&(d=d.La()));var f=a,h=D,k,l=D;return{next:function(){if(l)return l=D,k;for(var a,b;a=g();)if(b=a.bc(e))return k=a;return u},
pe:function(){k?l=n:m(c.l("createCharacterIterator: cannot rewind. Only one position can be rewound."))},H:function(){a=d=u}}}function x(a,b,c){function d(a){for(var b,c=[],q=a?e:g,f=D,h=D;a=q.next();){b=a.h;if(I.test(b))h&&(h=D,f=n);else if(f){q.pe();break}else h=n;c.push(a)}return c}var e=r(a,D,u,b),g=r(a,n,u,b),f=c.Ce;a=d(n);b=d(D).reverse();var h=f(b.concat(a),c),k=a.length?h.slice(oa(h,a[0].Sc)):[],l=b.length?h.slice(0,oa(h,b.pop().Sc)+1):[];return{vb:function(){for(var a,b;1==k.length&&!(a=
k[0]).ub&&0<(b=d(n)).length;)k=f(a.R.concat(b),c);return k.shift()},xb:function(){for(var a,b;1==l.length&&!(a=l[0]).ub&&0<(b=d(D)).length;)l=f(b.reverse().concat(a.R),c);return l.pop()},H:function(){e.H();g.H();k=l=u}}}function M(a,b,c,d){var e=a.I(b,n);a=a.I(b,D);return r(d?a:e,!!d,d?e:a,c)}function E(b,c,d,e,g){function f(b,c){var d=k[b].U(),e=k[c-1],q;if(!(q=!g.Vc)){var h=g.K;q=a.createRange(d.b);q.o(d.b,d.offset,e.b,e.offset);h=!q.expand("word",h);q.detach();q=h}return{Bb:d,eb:e,valid:q}}var h=
P(g.direction);b=r(b,h,b.F.I(e,h),g);e="";for(var k=[],l,p,s,t,v,w=u;l=b.next();)if(p=l.h,!d&&!g.Nb&&(p=p.toLowerCase()),h?(k.unshift(l),e=p+e):(k.push(l),e+=p),d){if(l=c.exec(e))if(v){if(s=l.index,t=s+l[0].length,!h&&t<e.length||h&&0<s){w=f(s,t);break}}else v=n}else if(-1!=(s=e.indexOf(c))){w=f(s,s+c.length);break}v&&(w=f(s,t));b.H();return w}function F(a){return function(){var b=!!ha,c=[ha||z()].concat(Y.Ae(arguments)),c=a.apply(this,c);b||f();return c}}function H(a,b){return F(function(c,d,e,f){var k,
l;"undefined"==typeof e&&(e=d,d=R);f=g(f,ia);k=g(f.v,B);var p=h(f.K);f=a;b&&(f=0<=e,this.collapse(!f));c=c.I(this,f);var s=d;d=0;var t=c,v=Math.abs(e);if(0!==e){e=0>e;switch(s){case R:for(p=r(c,e,u,k);(l=p.next())&&d<v;)++d,t=l;p.H();break;case V:for(var p=x(c,k,p),w=e?p.xb:p.vb;(p=w())&&d<v;)p.ub&&(++d,t=e?p.R[0]:p.R[p.R.length-1]);break;default:m(Error("movePositionBy: unit '"+s+"' not implemented"))}e?(t=t.U(),d=-d):t&&t.rc&&(s==V&&(p=r(c,D,u,k),l=p.next(),p.H()),l&&(t=l.U()))}k=t;l=d;this[f?"setStart":
"setEnd"](k.b,k.offset);return l})}function G(a){return F(function(b,c){c=g(c,B);for(var d,e=M(b,this,c,!a),f=0;(d=e.next())&&I.test(d.h);)++f;e.H();if(d=0<f)this[a?"moveStart":"moveEnd"]("character",a?f:-f,{v:c});return d})}function T(a){return F(function(b,c){var d=D;this.Ob(function(b){d=b[a](c)||d});return d})}a.r(["WrappedSelection"]);var R="character",V="word",K=a.B,Y=a.a,S=Y.extend,O=K.Y,W=/^[ \t\f\r\n]+$/,U=/^[ \t\f\r]+$/,I=/^[\t-\r \u0085\u00A0\u1680\u180E\u2000-\u200B\u2028\u2029\u202F\u205F\u3000]+$/,
L=/^[\t \u00A0\u1680\u180E\u2000-\u200B\u202F\u205F\u3000]+$/,ea="en",P=a.Wc.Vd,N=D;(function(){var b=document.createElement("div");b.contentEditable="true";b.innerHTML="<p>1 </p><p></p>";var c=O(document),d=b.firstChild,e=a.getSelection();c.appendChild(b);e.collapse(d.lastChild,2);e.setStart(d.firstChild,0);b.innerHTML="1 <br>";e.collapse(b,2);e.setStart(b.firstChild,0);N=1==(""+e).length;c.removeChild(b);e.removeAllRanges()})();var B={ob:n,qb:n,pb:n},Z={ob:D,qb:!N,pb:n},da={en:{Le:/[a-z0-9]+('[a-z0-9]+)*/gi,
kc:D,Ce:function(a,b){function c(b,d,e){var f=a.slice(b,d);b={ub:e,R:f,toString:function(){return f.join("")}};d=0;for(e=f.length;d<e;++d)f[d].Sc=b;g.push(b)}for(var d=a.join(""),e,g=[],f=0,h;e=b.Le.exec(d);){h=e.index;e=h+e[0].length;h>f&&c(f,h,D);if(b.kc)for(;L.test(a[e]);)++e;c(h,e,n);f=e}f<a.length&&c(f,a.length,D);return g}}},Q={Nb:D,Ke:u,Vc:D,Me:D,direction:"forward",K:u,v:u},ia={K:u,v:u},ka={K:u,v:u,trim:D,va:n,ua:n},ca={K:u,v:u,direction:"forward"},$=K.dc,X;(function(){var a=document.createElement("table"),
b=O(document);b.appendChild(a);X="block"==$(a,"display");b.removeChild(a)})();a.M.jg=X;var la={ig:"table",caption:"table-caption",ff:"table-column-group",ef:"table-column",og:"table-header-group",kg:"table-row-group",mg:"table-footer-group",pg:"table-row",lg:"table-cell",ng:"table-cell"};l.prototype={get:function(a){return this.Cb.hasOwnProperty(a)?this.Cb[a]:u},set:function(a,b){return this.Cb[a]=b}};var ga=0,fa=0;a.Xf=function(){console.log("Cached: "+ga+", uncached: "+fa)};var A={D:function(a){var c=
this.ce;return c.get(a)||c.set(a,new b(this,a))},toString:function(){return"[NodeWrapper("+K.ia(this.b)+")]"}};d.prototype=A;S(A,{N:e("isCharacterDataNode",K.N,"node"),k:e("nodeIndex",K.k,"node"),ib:e("nodeLength",K.Fa,"node"),Vb:e("containsPositions",function(a){return K.N(a)||!/^(area|base|basefont|br|col|frame|hr|img|input|isindex|link|meta|param)$/i.test(a.nodeName)},"node"),Nf:e("isWhitespace",p,"node"),Ff:e("isCollapsedWhitespace",t,"node"),cc:e("computedDisplay",k,"node"),isCollapsed:e("collapsed",
C,"node"),Kf:e("ignored",w,"node"),next:e("nextPos",s,"node"),Hc:e("previous",y,"node"),Kd:e("textNodeInfo",function(a){var b=u,c=D,d=$(a.parentNode,"whiteSpace"),e="pre-line"==d;if(e)b=U,c=n;else if("normal"==d||"nowrap"==d)b=W,c=n;return{b:a,text:a.data,ve:b,gd:c,de:e}},"node"),ic:e("hasInnerText",function(a,b){for(var c=this.F,d=c.D(a.parentNode,this.k()+1),e=c.D(a,0),c=b?d:e,d=b?e:d;c!==d;){c.Fc();if(c.Ud())return n;c=b?c.U():c.La()}return D},"node"),gc:e("trailingSpace",function(a){if("br"!=
a.tagName.toLowerCase())switch(this.cc()){case "inline":for(a=a.lastChild;a;){if(!w(a))return 1==a.nodeType?this.F.ga(a).gc():"";a=a.previousSibling}break;case "inline-block":case "inline-table":case "none":case "table-column":case "table-column-group":break;case "table-cell":return"\t";default:return this.ic(n)?"\n":""}return""},"node"),Ed:e("leadingSpace",function(){switch(this.cc()){case "inline":case "inline-block":case "inline-table":case "none":case "table-column":case "table-column-group":case "table-cell":break;
default:return this.ic(D)?"\n":""}return""},"node")});A={h:"",oa:"EMPTY",oc:D,Fc:function(){if(!this.Gc){var a=this.b,b=this.offset,c="",d="EMPTY",e=D;if(0<b)if(3==a.nodeType){var a=a.data,g=a.charAt(b-1),f=this.sa.Kd(),h=f.ve;f.gd?h.test(g)?1<b&&h.test(a.charAt(b-2))||(f.de&&"\n"===a.charAt(b)?(c=" ",d="PRE_LINE_TRAILING_SPACE_BEFORE_LINE_BREAK"):(c=" ",d="COLLAPSIBLE_SPACE")):(c=g,d="NON_SPACE",e=n):(c=g,d="UNCOLLAPSIBLE_SPACE",e=n)}else{if((g=a.childNodes[b-1])&&1==g.nodeType&&!C(g))"br"==g.tagName.toLowerCase()?
(c="\n",this.oc=n,d="COLLAPSIBLE_SPACE",e=D):this.Qb=n;if(!c&&(b=a.childNodes[b])&&1==b.nodeType&&!C(b))this.Pb=n}this.Gc=n;this.h=c;this.oa=d;this.Td=e}},Ud:function(){var a=this.oa;return"NON_SPACE"==a||"UNCOLLAPSIBLE_SPACE"==a},Mc:function(){this.Gc||this.Fc();if(this.Qb){var a=this.F.ga(this.b.childNodes[this.offset-1]).gc();a&&(this.Ka=n,this.h=a,this.oa="COLLAPSIBLE_SPACE");this.Qb=D}if(this.Pb){if(a=this.F.ga(this.b.childNodes[this.offset]).Ed())this.rc=n,this.h=a,this.oa="COLLAPSIBLE_SPACE";
this.Pb=D}},Fd:function(a){for(var b=this,c;b=b.U();)if(c=b.bc(a),""!==c)return b;return u},bc:function(a){function b(){f||(g=h.Fd(a),f=n);return g}this.Mc();if(this.Td)return this.h;var c=["character",a.qb,a.ob,a.pb].join("_"),d=this.Aa.get(c);if(d!==u)return d;var d="",e,g,f=D,h=this;if("COLLAPSIBLE_SPACE"==this.oa){if(!(" "==this.h&&(!b()||g.Ka||"\n"==g.h)))if("\n"==this.h&&this.rc)b()&&"\n"!=g.h&&(d="\n");else if(e=this.zc())if(e.oc?this.type="TRAILING_SPACE_BEFORE_BR":e.Ka&&"\n"==e.h&&(this.type=
"TRAILING_SPACE_IN_BLOCK"),"\n"===e.h){if("TRAILING_SPACE_BEFORE_BR"!=this.type||a.qb)"TRAILING_SPACE_IN_BLOCK"==this.type&&e.Ka&&!a.ob||"PRE_LINE_TRAILING_SPACE_BEFORE_LINE_BREAK"==this.type&&"NON_SPACE"==e.type&&!a.pb||("\n"===this.h?e.Ka||(d="\n"):" "===this.h&&(d=" "))}else d=this.h}else"\n"===this.h&&(e=this.zc());this.Aa.set(c,d);return d},W:function(a){return!!a&&this.b===a.b&&this.offset===a.offset},w:function(){return"[Position("+K.ia(this.b)+":"+this.offset+")]"},toString:function(){return this.h}};
b.prototype=A;S(A,{next:e("nextPos",function(a){var b=a.sa,c=a.b,d=a.offset;a=b.F;if(!c)return u;d==b.ib()?b=(c=c.parentNode)?b.k()+1:0:b.N()?b=d+1:(b=c.childNodes[d],a.ga(b).Vb()?(c=b,b=0):b=d+1);return c?a.D(c,b):u}),Hc:e("previous",function(a){var b=a.sa,c=a.b,d=a.offset;a=b.F;0==d?b=(c=c.parentNode)?b.k():0:b.N()?b=d-1:(b=c.childNodes[d-1],a.ga(b).Vb()?(c=b,b=K.Fa(b)):b=d-1);return c?a.D(c,b):u}),La:e("nextVisible",function(a){var b=a.next();if(!b)return u;a=b.sa;var c=b.b;a.isCollapsed()&&(b=
a.F.D(c.parentNode,a.k()+1));return b}),zc:e("nextUncollapsed",function(a){for(;a=a.La();)if(a.Mc(),""!==a.h)return a;return u}),U:e("previousVisible",function(a){var b=a.Hc();if(!b)return u;a=b.sa;var c=b.b;a.isCollapsed()&&(b=a.F.D(c.parentNode,a.k()));return b})});var ha=u,na=function(){function a(b){var c=new l;return{get:function(a){var d=c.get(a[b]);if(d)for(var e=0,g;g=d[e++];)if(g.b===a)return g;return u},set:function(a){var d=a.b[b];(c.get(d)||c.set(d,[])).push(a)}}}function b(){this.Od()}
var c=Y.Ia(document.documentElement,"uniqueID");b.prototype={Od:function(){this.Yb=c?function(){var a=new l;return{get:function(b){return a.get(b.uniqueID)},set:function(b){a.set(b.b.uniqueID,b)}}}():a("tagName");this.Qc=a("data");this.Cc=a("nodeName")},ga:function(a){var b;switch(a.nodeType){case 1:b=this.Yb;break;case 3:b=this.Qc;break;default:b=this.Cc}var c=b.get(a);c||(c=new d(a,this),b.set(c));return c},D:function(a,b){return this.ga(a).D(b)},I:function(a,b){var c=b?"start":"end";return this.D(a[c+
"Container"],a[c+"Offset"])},detach:function(){this.Yb=this.Qc=this.Cc=u}};return b}();S(K,{Of:s,Sf:y});var oa=Array.prototype.indexOf?function(a,b){return a.indexOf(b)}:function(a,b){for(var c=0,d=a.length;c<d;++c)if(a[c]===b)return c;return-1};S(a.Ic,{moveStart:H(n,D),moveEnd:H(D,D),move:H(n,n),va:G(n),ua:G(D),trim:F(function(a,b){var c=this.va(b),d=this.ua(b);return c||d}),expand:F(function(a,b,c){var d=D;c=g(c,ka);var e=g(c.v,B);b||(b=R);if(b==V){var f=h(c.K);b=a.I(this,n);a=a.I(this,D);var k=
x(b,e,f).vb(),l=k.R[0].U(),f=this.collapsed?k:x(a,e,f).xb(),f=f.R[f.R.length-1];l.W(b)||(this.setStart(l.b,l.offset),d=n);f&&!f.W(a)&&(this.setEnd(f.b,f.offset),d=n);c.trim&&(c.va&&(d=this.va(e)||d),c.ua&&(d=this.ua(e)||d));return d}return this.moveEnd(R,1,c)}),text:F(function(a,b){var c;if(this.collapsed)c="";else{var d=g(b,B);c=[];for(var d=M(a,this,d),e;e=d.next();)c.push(e);d.H();c=c.join("")}return c}),Ma:F(function(a,b,c,d,e){a={v:e};b||(b=O(this.n()));this.selectNodeContents(b);this.collapse(n);
this.moveStart("character",c,a);this.collapse(n);this.moveEnd("character",d-c,a)}),Rc:F(function(a,b,c){b||(b=O(this.n()));a=b.parentNode;b=K.k(b);var d=-1==K.Za(this.startContainer,this.endContainer,a,b),e=this.cloneRange();d?(e.o(this.startContainer,this.startOffset,a,b),a=-e.text(c).length):(e.o(a,b,this.startContainer,this.startOffset),a=e.text(c).length);c=a+this.text(c).length;return{start:a,end:c}}),findText:F(function(b,c,d){d=g(d,Q);d.Vc&&(d.K=h(d.K),d.K.kc=D);var e=P(d.direction),f=d.Ke;
f||(f=a.createRange(),f.selectNodeContents(this.n()));var k=D;"string"==typeof c?d.Nb||(c=c.toLowerCase()):k=n;var l=b.I(this,!e),p=f.comparePoint(l.b,l.offset);-1===p?l=b.I(f,n):1===p&&(l=b.I(f,D));for(var r=l,p=D;;)if(r=E(r,c,k,f,d)){if(r.valid)return this.o(r.Bb.b,r.Bb.offset,r.eb.b,r.eb.offset),n;r=e?r.Bb:r.eb}else if(d.Me&&!p)f=f.cloneRange(),r=b.I(f,!e),f.ue(l.b,l.offset,e),p=n;else return D}),Rf:function(a){this.deleteContents();if(a){a=this.createContextualFragment(a);var b=a.lastChild;this.insertNode(a);
this.fd(b)}}});S(a.re,{expand:F(function(a,b,c){this.Ob(function(a){a.expand(b,c)})}),move:F(function(a,b,c,d){a=0;if(this.focusNode){this.collapse(this.focusNode,this.focusOffset);var e=this.getRangeAt(0);d||(d={});d.v=g(d.v,Z);a=e.move(b,c,d);this.ja(e)}return a}),va:T("trimStart"),ua:T("trimEnd"),trim:T("trim"),Ma:F(function(b,c,d,e,f,g){b=a.createRange(c);b.Ma(c,d,e,g);this.ja(b,f)}),qe:F(function(a,b,c){a=this.X();for(var d=[],e=1==a.length&&this.$(),f=0,g=a.length;f<g;++f)d[f]={L:a[f].Rc(b,
c),ma:e,v:c};return d}),oe:F(function(b,c,d){this.removeAllRanges();b=0;for(var e=d.length,f,g,h;b<e;++b)g=d[b],h=g.L,f=a.createRange(c),f.Ma(c,h.start,h.end,g.v),this.addRange(f,g.ma)}),text:F(function(a,b){for(var c=[],d=0,e=this.rangeCount;d<e;++d)c[d]=this.getRangeAt(d).text(b);return c.join("")})});a.innerText=function(b,c){var d=a.createRange(b);d.selectNodeContents(b);var e=d.text(c);d.detach();return e};a.pf=function(a,b,c){var d=ha||z();c=g(c,ca);var e=g(c.v,B),f=h(c.K);a=d.D(a,b);var k=
x(a,e,f),l=P(c.direction);return{next:function(){return l?k.xb():k.vb()},H:function(){k.H();this.next=function(){}}}};a.ae=function(a){var b=ha||z();a(b);f()};a.ae.kf=F;a.ca={Ef:function(a){return a&&(1==a.nodeType&&!/^(inline(-block|-table)?|none)$/.test(k(a))||9==a.nodeType||11==a.nodeType)},Gf:t,of:F(function(a,b,c){return a.D(b,c)})}});ba.ac&&ba.ac();
/*! JSON v3.2.5 | http://bestiejs.github.io/json3 | Copyright 2012-2013, Kit Cambridge | http://kit.mit-license.org */
;(function(){var o=!0,w=null;
(function(B){function v(a){if("bug-string-char-index"==a)return"a"!="a"[0];var f,c="json"==a;if(c||"json-stringify"==a||"json-parse"==a){if("json-stringify"==a||c){var d=k.stringify,b="function"==typeof d&&l;if(b){(f=function(){return 1}).toJSON=f;try{b="0"===d(0)&&"0"===d(new Number)&&'""'==d(new String)&&d(m)===r&&d(r)===r&&d()===r&&"1"===d(f)&&"[1]"==d([f])&&"[null]"==d([r])&&"null"==d(w)&&"[null,null,null]"==d([r,m,w])&&'{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}'==d({a:[f,o,!1,w,"\x00\u0008\n\u000c\r\t"]})&&
"1"===d(w,f)&&"[\n 1,\n 2\n]"==d([1,2],w,1)&&'"-271821-04-20T00:00:00.000Z"'==d(new Date(-864E13))&&'"+275760-09-13T00:00:00.000Z"'==d(new Date(864E13))&&'"-000001-01-01T00:00:00.000Z"'==d(new Date(-621987552E5))&&'"1969-12-31T23:59:59.999Z"'==d(new Date(-1))}catch(n){b=!1}}if(!c)return b}if("json-parse"==a||c){a=k.parse;if("function"==typeof a)try{if(0===a("0")&&!a(!1)){f=a('{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}');var e=5==f.a.length&&1===f.a[0];if(e){try{e=!a('"\t"')}catch(g){}if(e)try{e=
1!==a("01")}catch(i){}}}}catch(O){e=!1}if(!c)return e}return b&&e}}var m={}.toString,p,C,r,D=typeof define==="function"&&define.amd,k="object"==typeof exports&&exports;k||D?"object"==typeof JSON&&JSON?k?(k.stringify=JSON.stringify,k.parse=JSON.parse):k=JSON:D&&(k=B.JSON={}):k=B.JSON||(B.JSON={});var l=new Date(-3509827334573292);try{l=-109252==l.getUTCFullYear()&&0===l.getUTCMonth()&&1===l.getUTCDate()&&10==l.getUTCHours()&&37==l.getUTCMinutes()&&6==l.getUTCSeconds()&&708==l.getUTCMilliseconds()}catch(P){}if(!v("json")){var s=
v("bug-string-char-index");if(!l)var t=Math.floor,J=[0,31,59,90,120,151,181,212,243,273,304,334],z=function(a,f){return J[f]+365*(a-1970)+t((a-1969+(f=+(f>1)))/4)-t((a-1901+f)/100)+t((a-1601+f)/400)};if(!(p={}.hasOwnProperty))p=function(a){var f={},c;if((f.__proto__=w,f.__proto__={toString:1},f).toString!=m)p=function(a){var f=this.__proto__,a=a in(this.__proto__=w,this);this.__proto__=f;return a};else{c=f.constructor;p=function(a){var f=(this.constructor||c).prototype;return a in this&&!(a in f&&
this[a]===f[a])}}f=w;return p.call(this,a)};var K={"boolean":1,number:1,string:1,undefined:1};C=function(a,f){var c=0,b,h,n;(b=function(){this.valueOf=0}).prototype.valueOf=0;h=new b;for(n in h)p.call(h,n)&&c++;b=h=w;if(c)c=c==2?function(a,f){var c={},b=m.call(a)=="[object Function]",d;for(d in a)!(b&&d=="prototype")&&!p.call(c,d)&&(c[d]=1)&&p.call(a,d)&&f(d)}:function(a,f){var c=m.call(a)=="[object Function]",b,d;for(b in a)!(c&&b=="prototype")&&p.call(a,b)&&!(d=b==="constructor")&&f(b);(d||p.call(a,
b="constructor"))&&f(b)};else{h=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"];c=function(a,f){var c=m.call(a)=="[object Function]",b,d;if(d=!c)if(d=typeof a.constructor!="function"){d=typeof a.hasOwnProperty;d=d=="object"?!!a.hasOwnProperty:!K[d]}d=d?a.hasOwnProperty:p;for(b in a)!(c&&b=="prototype")&&d.call(a,b)&&f(b);for(c=h.length;b=h[--c];d.call(a,b)&&f(b));}}c(a,f)};if(!v("json-stringify")){var L={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",
10:"\\n",13:"\\r",9:"\\t"},u=function(a,f){return("000000"+(f||0)).slice(-a)},G=function(a){var f='"',b=0,d=a.length,h=d>10&&s,n;for(h&&(n=a.split(""));b<d;b++){var e=a.charCodeAt(b);switch(e){case 8:case 9:case 10:case 12:case 13:case 34:case 92:f=f+L[e];break;default:if(e<32){f=f+("\\u00"+u(2,e.toString(16)));break}f=f+(h?n[b]:s?a.charAt(b):a[b])}}return f+'"'},E=function(a,b,c,d,h,n,e){var g=b[a],i,j,k,l,q,s,v,x,y;try{g=b[a]}catch(A){}if(typeof g=="object"&&g){i=m.call(g);if(i=="[object Date]"&&
!p.call(g,"toJSON"))if(g>-1/0&&g<1/0){if(z){k=t(g/864E5);for(i=t(k/365.2425)+1970-1;z(i+1,0)<=k;i++);for(j=t((k-z(i,0))/30.42);z(i,j+1)<=k;j++);k=1+k-z(i,j);l=(g%864E5+864E5)%864E5;q=t(l/36E5)%24;s=t(l/6E4)%60;v=t(l/1E3)%60;l=l%1E3}else{i=g.getUTCFullYear();j=g.getUTCMonth();k=g.getUTCDate();q=g.getUTCHours();s=g.getUTCMinutes();v=g.getUTCSeconds();l=g.getUTCMilliseconds()}g=(i<=0||i>=1E4?(i<0?"-":"+")+u(6,i<0?-i:i):u(4,i))+"-"+u(2,j+1)+"-"+u(2,k)+"T"+u(2,q)+":"+u(2,s)+":"+u(2,v)+"."+u(3,l)+"Z"}else g=
w;else if(typeof g.toJSON=="function"&&(i!="[object Number]"&&i!="[object String]"&&i!="[object Array]"||p.call(g,"toJSON")))g=g.toJSON(a)}c&&(g=c.call(b,a,g));if(g===w)return"null";i=m.call(g);if(i=="[object Boolean]")return""+g;if(i=="[object Number]")return g>-1/0&&g<1/0?""+g:"null";if(i=="[object String]")return G(""+g);if(typeof g=="object"){for(a=e.length;a--;)if(e[a]===g)throw TypeError();e.push(g);x=[];b=n;n=n+h;if(i=="[object Array]"){j=0;for(a=g.length;j<a;y||(y=o),j++){i=E(j,g,c,d,h,n,
e);x.push(i===r?"null":i)}a=y?h?"[\n"+n+x.join(",\n"+n)+"\n"+b+"]":"["+x.join(",")+"]":"[]"}else{C(d||g,function(a){var b=E(a,g,c,d,h,n,e);b!==r&&x.push(G(a)+":"+(h?" ":"")+b);y||(y=o)});a=y?h?"{\n"+n+x.join(",\n"+n)+"\n"+b+"}":"{"+x.join(",")+"}":"{}"}e.pop();return a}};k.stringify=function(a,b,c){var d,h,j;if(typeof b=="function"||typeof b=="object"&&b)if(m.call(b)=="[object Function]")h=b;else if(m.call(b)=="[object Array]"){j={};for(var e=0,g=b.length,i;e<g;i=b[e++],(m.call(i)=="[object String]"||
m.call(i)=="[object Number]")&&(j[i]=1));}if(c)if(m.call(c)=="[object Number]"){if((c=c-c%1)>0){d="";for(c>10&&(c=10);d.length<c;d=d+" ");}}else m.call(c)=="[object String]"&&(d=c.length<=10?c:c.slice(0,10));return E("",(i={},i[""]=a,i),h,j,d,"",[])}}if(!v("json-parse")){var M=String.fromCharCode,N={92:"\\",34:'"',47:"/",98:"\u0008",116:"\t",110:"\n",102:"\u000c",114:"\r"},b,A,j=function(){b=A=w;throw SyntaxError();},q=function(){for(var a=A,f=a.length,c,d,h,k,e;b<f;){e=a.charCodeAt(b);switch(e){case 9:case 10:case 13:case 32:b++;
break;case 123:case 125:case 91:case 93:case 58:case 44:c=s?a.charAt(b):a[b];b++;return c;case 34:c="@";for(b++;b<f;){e=a.charCodeAt(b);if(e<32)j();else if(e==92){e=a.charCodeAt(++b);switch(e){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:c=c+N[e];b++;break;case 117:d=++b;for(h=b+4;b<h;b++){e=a.charCodeAt(b);e>=48&&e<=57||e>=97&&e<=102||e>=65&&e<=70||j()}c=c+M("0x"+a.slice(d,b));break;default:j()}}else{if(e==34)break;e=a.charCodeAt(b);for(d=b;e>=32&&e!=92&&e!=34;)e=a.charCodeAt(++b);
c=c+a.slice(d,b)}}if(a.charCodeAt(b)==34){b++;return c}j();default:d=b;if(e==45){k=o;e=a.charCodeAt(++b)}if(e>=48&&e<=57){for(e==48&&(e=a.charCodeAt(b+1),e>=48&&e<=57)&&j();b<f&&(e=a.charCodeAt(b),e>=48&&e<=57);b++);if(a.charCodeAt(b)==46){for(h=++b;h<f&&(e=a.charCodeAt(h),e>=48&&e<=57);h++);h==b&&j();b=h}e=a.charCodeAt(b);if(e==101||e==69){e=a.charCodeAt(++b);(e==43||e==45)&&b++;for(h=b;h<f&&(e=a.charCodeAt(h),e>=48&&e<=57);h++);h==b&&j();b=h}return+a.slice(d,b)}k&&j();if(a.slice(b,b+4)=="true"){b=
b+4;return o}if(a.slice(b,b+5)=="false"){b=b+5;return false}if(a.slice(b,b+4)=="null"){b=b+4;return w}j()}}return"$"},F=function(a){var b,c;a=="$"&&j();if(typeof a=="string"){if((s?a.charAt(0):a[0])=="@")return a.slice(1);if(a=="["){for(b=[];;c||(c=o)){a=q();if(a=="]")break;if(c)if(a==","){a=q();a=="]"&&j()}else j();a==","&&j();b.push(F(a))}return b}if(a=="{"){for(b={};;c||(c=o)){a=q();if(a=="}")break;if(c)if(a==","){a=q();a=="}"&&j()}else j();(a==","||typeof a!="string"||(s?a.charAt(0):a[0])!="@"||
q()!=":")&&j();b[a.slice(1)]=F(q())}return b}j()}return a},I=function(a,b,c){c=H(a,b,c);c===r?delete a[b]:a[b]=c},H=function(a,b,c){var d=a[b],h;if(typeof d=="object"&&d)if(m.call(d)=="[object Array]")for(h=d.length;h--;)I(d,h,c);else C(d,function(a){I(d,a,c)});return c.call(a,b,d)};k.parse=function(a,f){var c,d;b=0;A=""+a;c=F(q());q()!="$"&&j();b=A=w;return f&&m.call(f)=="[object Function]"?H((d={},d[""]=c,d),"",f):c}}}D&&define(function(){return k})})(this);
}());